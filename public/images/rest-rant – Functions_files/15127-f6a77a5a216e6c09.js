(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15127],{15127:function(e,n,t){"use strict";t.r(n),t.d(n,{SHOW_EVENT:function(){return v}});var r=t(397458),a=t(652983),s=t(869480),u=t.n(s),c=t(425789),l=t(191425),i=t(708679),o=t(482032),d=t(524769),p=t(856150),f=t(548491),b=t(241663),m=t(752377),_=t(158093),k=t(894313),h=t.n(k);let v="show-feedback",j=new Map([["\uD83E\uDD29","f929"],["\uD83D\uDE42","f600"],["\uD83D\uDE15","f615"],["\uD83D\uDE2D","f62d"]]),w=null,g=e=>{let{dryRun:n,className:t,open:s,onClick:u,email:k,...g}=e,[E,S]=(0,a.useState)(null),[C,N]=(0,a.useState)(!1),[y,Z]=(0,a.useState)(!1),[D,T]=(0,a.useState)(!1),[L,R]=(0,a.useState)(!1),[F,K]=(0,a.useState)(null),[O,I]=(0,a.useState)(null),[V,H]=(0,a.useState)(null),[P,Y]=(0,a.useState)(null),$=(0,a.useRef)(),q=(0,a.useRef)(),B=(0,a.useRef)(),M=(0,_.T)(),z=(0,a.useCallback)(()=>{K(null)},[]),A=(0,a.useCallback)(()=>{T(!1)},[]),J=(0,a.useCallback)(()=>{Z(!1),z(),A(),$.current&&($.current.value=""),q.current&&(q.current.value="")},[z,A]),G=(0,a.useCallback)(e=>{if(e.preventDefault(),B.current.focus(),!P||""===P.trim()){K("Your feedback can't be empty");return}if(N(!0),n){N(!1),T(!0),Y("");return}(0,l.Z)(b.N1,{method:"POST",body:JSON.stringify({url:"localhost"===window.location.hostname?`https://${m.pV}/dev-mode${window.location.pathname}`:window.location.toString(),note:$.current.value,email:O||"",emotion:null===E?E:(null===w&&(w=new Map([...j].map(e=>{let[n,t]=e;return[t,n]}))),w.get(E)),plan:M,label:"front",ua:`front production + ${navigator.userAgent} (${navigator.language||"unknown language"})`}),throwOnHTTPError:!0}).then(()=>{N(!1),T(!0),Y("")}).catch(e=>{N(!1),K(e.message)})},[P,n,O,E,M]),Q=(0,a.useCallback)(e=>{27===e.keyCode?(J(),B.current&&B.current.focus()):"Enter"===e.key&&e.metaKey&&G(e)},[J,G]);(0,a.useEffect)(()=>{y&&V.current&&null===F&&V.current.focus({preventScroll:!0})},[F,y,V]),(0,a.useEffect)(()=>(y?($&&$.current&&($.current.value=P),q&&q.current&&(q.current.value=O),window.addEventListener("keydown",Q)):!y&&V&&V.current&&(V.current.blur(),$.current.value="",k&&(q.current.value=""),window.removeEventListener("keydown",Q)),()=>{window.removeEventListener("keydown",Q)}),[y,V,J,O,P,k,G,Q]),(0,a.useEffect)(()=>{let e;return D&&(e=setTimeout(()=>{document.hidden||(T(!1),J())},5e3)),()=>{null!==e&&(clearTimeout(e),e=null)}},[D,J]);let U=(0,a.useCallback)(()=>{V!==q&&(H(q),q.current.focus({preventScroll:!0}))},[V]),W=(0,a.useCallback)(()=>{V!==$&&(H($),$.current.focus({preventScroll:!0}))},[V]),X=(0,a.useCallback)(()=>{k&&q.current&&!y?U():$.current&&!y&&W(),Z(!0)},[k,q,$,y,U,W]);(0,a.useEffect)(()=>{let e=()=>{X(),B.current?.scrollIntoView({behavior:"smooth"})};return document.addEventListener(v,e),()=>document.removeEventListener(v,e)},[X]);let ee=(0,a.useCallback)(()=>{R(!0)},[]),en=(0,a.useCallback)(()=>{R(!1)},[]),et=(0,a.useCallback)(e=>{S(e)},[]),er=(0,a.useCallback)(e=>{y&&Y(e)},[y]),ea=(0,a.useCallback)(e=>{y&&I(e)},[y]),es=(0,a.useRef)();return es.current={focus:X,blur:J},(0,a.useEffect)(()=>{if(!B||!B.current)return;let e=!1,n=!1,t=()=>{setTimeout(()=>{e!==n&&(e?es.current.focus():es.current.blur(),n=e)},0)},r=()=>{e=!0,t()},a=()=>{e=!1,t()},s=B.current;return s.addEventListener("focusout",a),s.addEventListener("focusin",r),()=>{s.removeEventListener("focusout",a),s.removeEventListener("focusin",r)}},[]),(0,r.jsx)(o.Z,{active:y,onClick:J,render(e){let{innerRef:n}=e;return(0,r.jsx)("div",{className:(0,c.Z)(h()["geist-feedback-input"],{[h().focused]:y||s,[h().error]:F,[h().loading]:C,[h().success]:D,[h().email]:k},t),"data-vercel-feedback":!0,onClick:X,ref(e){B.current=e,n(e)},tabIndex:0,title:"Share any feedback about our products and services",...g,children:(0,r.jsxs)("form",{className:(0,c.Z)(h()["feedback-wrapper"],y?"":h().blur),onSubmit:G,children:[(0,r.jsx)("div",{className:h().placeholder,children:"Feedback"}),!F&&!D&&(0,r.jsxs)("div",{className:h()["input-wrapper"],children:[k?(0,r.jsxs)("div",{className:h().input,children:[(0,r.jsx)("h5",{children:"Email"}),(0,r.jsx)(d.Z,{disabled:!0===C||null!=F,innerRef:e=>q.current=e,onChange:ea,onFocus:()=>H(q),placeholder:"Your email address...",type:"email",width:"100%"})]}):null,(0,r.jsxs)("div",{className:h().input,children:[(0,r.jsx)("h5",{children:"Feedback"}),(0,r.jsx)(p.Z,{"aria-label":"Feedback input","data-gramm-editor":"false",disabled:!0===C||null!=F,innerRef:e=>$.current=e,onChange:er,onFocus:()=>H($),placeholder:"Your feedback...",width:"100%"})]})]}),null!=F&&(0,r.jsxs)("div",{className:h()["error-message"],children:[(0,r.jsx)("span",{children:F}),(0,r.jsx)(i.Z,{autoFocus:!0,medium:!0,onClick(e){e.preventDefault(),z()},children:"GO BACK"})]}),D?(0,r.jsxs)("div",{className:h()["success-message"],children:[(0,r.jsx)(f.Z,{className:"checkmark",color:"var(--geist-success)",fill:!0,size:"2rem"}),(0,r.jsx)("p",{children:"Your feedback has been received!"}),(0,r.jsx)("p",{children:"Thank you for your help."})]}):null,!D&&!F&&(0,r.jsxs)("div",{className:h().controls,children:[(0,r.jsx)("span",{className:h().emojis,children:(0,r.jsx)(x,{loading:C,onEmojiSelect:et,onHide:en,onShow:ee})}),(0,r.jsx)("span",{className:(0,c.Z)(h().buttons,{[h().hidden]:L}),children:(0,r.jsx)(i.Z,{loading:C,medium:!0,width:60,children:"Send"})})]})]})})}})};g.propTypes={dryRun:u().bool,open:u().bool,className:u().string};let x=e=>{let{onShow:n,onHide:t,onEmojiSelect:s,loading:u}=e,[l,i]=(0,a.useState)(null);(0,a.useEffect)(()=>{s&&s(l)},[l,s]);let o=e=>{e!==l&&i(e)};return(0,r.jsx)("div",{className:(0,c.Z)(h()["geist-emoji-selector"],{loading:u}),children:Array.from(j.values()).map(e=>(0,r.jsx)("button",{className:(0,c.Z)(h().option,{[h().active]:e===l}),onClick:()=>o(e),type:"button",children:(0,r.jsx)("span",{className:(0,c.Z)(h().inner),children:(0,r.jsx)(E,{code:e})})},e))})},E=a.memo(e=>{let{code:n}=e;return(0,r.jsx)("img",{alt:"emoji",decoding:"async",height:20,src:`https://assets.vercel.com/twemoji/1${n}.svg`,width:20})});n.default=g},894313:function(e){e.exports={"geist-feedback-input":"feedback-input_geist-feedback-input__PxEnJ",email:"feedback-input_email__TRsUV","feedback-wrapper":"feedback-input_feedback-wrapper__mCwSO",blur:"feedback-input_blur__v3I6x","input-wrapper":"feedback-input_input-wrapper__sk27o",controls:"feedback-input_controls__yMlLc",focused:"feedback-input_focused__oNq0K",placeholder:"feedback-input_placeholder__ZKdJ6",input:"feedback-input_input__Zh3nF",error:"feedback-input_error__HIP7C",loading:"feedback-input_loading__TcLsK",success:"feedback-input_success__o1yjR","textarea-wrapper":"feedback-input_textarea-wrapper__YzB3n","error-message":"feedback-input_error-message__peMvQ","success-message":"feedback-input_success-message__Vj9bd",appear:"feedback-input_appear__jBp9x",checkmark:"feedback-input_checkmark____KH1",emojis:"feedback-input_emojis__zyiSw",buttons:"feedback-input_buttons__qS7BV","geist-emoji-selector":"feedback-input_geist-emoji-selector__R7Ixq",option:"feedback-input_option__7hsPO",active:"feedback-input_active__ZKa1S",inner:"feedback-input_inner__IqbTj"}}}]);