(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41257],{612147:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[teamSlug]/[project]/[id]",function(){return n(234917)}])},218557:function(e,t,n){"use strict";n.d(t,{M:function(){return a}});var i=n(455522),s=n(129319),r=n(854146);let a=()=>{let{isLoading:e,isTeam:t}=(0,r.Z)(),n=(0,s.xk)(),a=(0,i.tX)();return e?{isReady:!1,value:null,mutate:()=>Promise.resolve({isReady:!1,value:null})}:t?n:a}},571281:function(e,t,n){"use strict";n.d(t,{B8:function(){return o},D9:function(){return a},Er:function(){return l},uX:function(){return r}});var i=n(393486),s=n(854146);let r=()=>{let{team:e}=(0,s.Z)();if(null===e)return!1;let t=e.billing?.plan==="enterprise";return t||(0,i.X)(e,"passwordProtection")},a=e=>{let{deployment:t,project:n}=e;if(!t||!n)return{isLoading:!0,vercelAuthEnabled:null,enabled:null};let i="production"!==t.target,s=n.passwordProtection?.deploymentType==="all"||i&&n.passwordProtection?.deploymentType==="preview",r=n.ssoProtection?.deploymentType==="all"||i&&n.ssoProtection?.deploymentType==="preview";return{enabled:s||r,isLoading:!1,vercelAuthEnabled:r}},l=e=>{let{team:t,user:n,project:i}=e;return`/${t?.slug||n?.username||""}/${i?.name||""}/settings/deployment-protection`},o=e=>{let{team:t}=e;return t?`/teams/${t.slug}/settings/general#preview-comments`:"/account/general#preview-comments"}},981408:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(397458),s=n(465635),r=n.n(s),a=n(425789),l=n(717417);let o=(e,t)=>e===l.Vr.LEFT?`
    min-width: 0%;
    order: 0;
    margin: 0 ${16*t}pt 0 0;
  `:e===l.Vr.RIGHT?`
    min-width: 0%;
    order: 1;
    margin: 0 0 0 ${16*t}pt;
  `:e===l.Vr.TOP?`
    min-width: 100%;
    order: 0;
    margin: 0 0 ${16*t}pt 0;
  `:e===l.Vr.BOTTOM?`
    min-width: 100%;
    order: 1;
    margin: ${16*t}pt 0 0 0;
  `:void 0;function c(e){let{width:t="50%",gap:n=1,position:s=l.Vr.LEFT,positionTablet:c=l.Vr.TOP,positionMobile:d=l.Vr.TOP,sticky:u,stickyTablet:h,children:m,className:p,...x}=e;return(0,i.jsxs)("div",{...x,className:r().dynamic([["a12c32d1310614a",[t,u?u+"px":0,o(s,n),o(c,n),!1===h?"position: unset;":"",o(d,n)]]])+" "+(x&&null!=x.className&&x.className||(0,a.Z)("geist-aside",{sticky:u},p)||""),children:[m,(0,i.jsx)(r(),{id:"a12c32d1310614a",dynamic:[t,u?u+"px":0,o(s,n),o(c,n),!1===h?"position: unset;":"",o(d,n)],children:`.geist-aside.__jsx-style-dynamic-selector{width:${t}}.geist-aside.sticky.__jsx-style-dynamic-selector{position:-webkit-sticky;position:sticky;top:${u?u+"px":0}}@media screen and (min-width:961px){.geist-aside.__jsx-style-dynamic-selector{${o(s,n)}
          }}@media screen and (max-width:960px){.geist-aside.__jsx-style-dynamic-selector{${o(c,n)}
          }.geist-aside.sticky.__jsx-style-dynamic-selector{${!1===h?"position: unset;":""}
          }}@media screen and (max-width:600px){.geist-aside.__jsx-style-dynamic-selector{${o(d,n)}
          }}`})]})}},700740:function(e,t,n){"use strict";var i=n(397458),s=n(425789),r=n(400246),a=n.n(r);let l=e=>{let{children:t,className:n,noWrap:r,title:l,style:o}=e;return(0,i.jsx)("code",{className:(0,s.Z)(a().code,n,{[a().nowrap]:r}),"data-geist-inline-code":"","data-version":"v1",style:o,title:l,children:t})};t.Z=l},679538:function(e,t,n){"use strict";var i=n(397458),s=n(652983),r=n(425789),a=n(332568),l=n(589383),o=n(302995),c=n.n(o);t.Z=s.memo(function(e){let{title:t,content:n,tooltip:s,right:o,className:d,ellipsis:u,"data-testid":h}=e;return(0,i.jsxs)("dl",{className:(0,r.Z)(c().description,{[c().right]:o,[c().ellipsis]:u},d),"data-testid":h,"data-version":"v1",children:[(0,i.jsxs)("dt",{"data-geist-description-title":"",children:[t,s?(0,i.jsx)("span",{className:c().icon,children:(0,i.jsx)(l.Z,{text:s,children:(0,i.jsx)(a.Z,{})})}):null]}),(0,i.jsx)("dd",{"data-geist-description-content":"",children:n})]})})},273801:function(e,t,n){"use strict";var i=n(397458),s=n(465635),r=n.n(s),a=n(425789),l=n(780356),o=n(717417),c=n(492170),d=n.n(c);t.Z=function(e){let{title:t,avatar:n,description:s,controls:c,actions:u,border:h,borderBottom:m,borderTop:p,center:x,background:g,size:j=o.br.MEDIUM,children:y}=e,{className:b,styles:f}={styles:(0,i.jsx)(r(),{id:"732d71531d48870",dynamic:[h||m?"border-bottom: 1px solid var(--accents-2);":"",p?"border-top: 1px solid var(--accents-2);":"",g?`background: ${g};`:""],children:`.geist-hero.__jsx-style-dynamic-selector{${h||m?"border-bottom: 1px solid var(--accents-2);":""}
      ${p?"border-top: 1px solid var(--accents-2);":""}
      ${g?`background: ${g};`:""}
    }`}),className:r().dynamic([["732d71531d48870",[h||m?"border-bottom: 1px solid var(--accents-2);":"",p?"border-top: 1px solid var(--accents-2);":"",g?`background: ${g};`:""]]])},v=(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("header",{className:(0,a.Z)({[d().sm]:j===o.br.SMALL,[d().md]:j===o.br.MEDIUM,[d().lg]:j===o.br.LARGE}),children:[(0,i.jsxs)("div",{className:(0,a.Z)(d().header,{[d().center]:x}),children:[n?(0,i.jsx)("div",{className:d().avatar,children:n}):null,t?(0,i.jsxs)("div",{className:d().title,children:[(0,i.jsx)("h1",{children:t}),s&&"string"==typeof s?(0,i.jsx)("p",{children:s}):(0,i.jsx)(i.Fragment,{children:s})]}):null,y]}),c||u?(0,i.jsxs)("div",{className:d().menu,children:[c?(0,i.jsx)("div",{className:d().controls,children:c}):null,u?(0,i.jsx)("div",{className:d().actions,children:u}):null]}):null]})});return(0,i.jsx)(l.Z,{classNames:["geist-hero",b],full:!0,styleSets:f,children:(0,i.jsx)(l.Z,{wrapper:!0,children:v})})}},633778:function(e,t,n){"use strict";n.d(t,{Ee:function(){return h},Rk:function(){return m},xL:function(){return p}});var i=n(397458),s=n(652983),r=n(425789),a=n(255248),l=n(187589),o=n(34024),c=n.n(o);let d=(0,s.createContext)({name:"",selectedValue:"",disabled:!1,required:!1,setSelected(e){}}),u=()=>(0,s.useContext)(d),h=e=>{let{label:t,name:n,value:s,required:r,disabled:o,onChange:c,children:u}=e,h=(0,l.B)(),m=(0,a.Z)("radio-"),p=(0,a.Z)("radio-name-");return n??=p,(0,i.jsxs)("div",{"aria-labelledby":t?m:void 0,"data-geist-radio-group":"","data-version":"v1",role:"radiogroup",children:[t?(0,i.jsx)("span",{className:"geist-sr-only",id:m,children:t}):null,(0,i.jsx)(d.Provider,{value:{name:n,selectedValue:s,setSelected:c,required:r,disabled:o||h},children:u})]})},m=e=>{let{label:t=!0,value:n,disabled:a,children:l,className:o}=e,{selectedValue:d,setSelected:h,...m}=u(),p=(0,s.useCallback)(()=>h?.(n),[n,h]);return(0,i.jsxs)(t?"label":"span",{className:(0,r.Z)(o,c().item,{[c().disabled]:m.disabled||a}),"data-geist-radio-item":"",children:[(0,i.jsxs)("span",{className:c().check,children:[l?(0,i.jsx)(i.Fragment,{children:"​"}):null,(0,i.jsx)("input",{type:"radio",...m,checked:n===d,className:(0,r.Z)(c().input,"geist-sr-only"),disabled:m.disabled||a,onChange:p,value:n}),(0,i.jsx)("span",{"aria-hidden":!0,className:c().icon})]}),l?(0,i.jsx)("span",{className:c().text,children:l}):null]})},p=e=>{let{value:t,disabled:n}=e,{selectedValue:s,...r}=u();return{component:(0,i.jsx)(m,{disabled:n,label:!1,value:t}),checked:t===s,...r}}},434751:function(e,t,n){"use strict";n.d(t,{DK:function(){return o},NE:function(){return l},St:function(){return d},ao:function(){return u},pN:function(){return c}});var i=n(397458),s=n(311125),r=n(356851),a=n(794569);function l(e){return!!e&&Boolean(e.githubDeployment||e.gitlabDeployment||e.bitbucketDeployment)}function o(e){return{logo:(0,i.jsx)(a.Z,{}),branchUrl:`https://github.com/${e.githubOrg}/${e.githubRepo}/tree/${e.githubCommitRef}`,branchName:e.githubCommitRef,commitUrl:`https://github.com/${e.githubOrg}/${e.githubRepo}/commit/${e.githubCommitSha}`,commitMessage:e.githubCommitMessage,sha:e.githubCommitSha,gitDirty:e.gitDirty}}function c(e){return{logo:(0,i.jsx)(r.Z,{}),branchUrl:`https://gitlab.com/${e.gitlabProjectPath}/tree/${e.gitlabCommitRef}`,branchName:e.gitlabCommitRef,commitUrl:`https://gitlab.com/${e.gitlabProjectPath}/commit/${e.gitlabCommitSha}`,commitMessage:e.gitlabCommitMessage,sha:e.gitlabCommitSha,gitDirty:e.gitDirty}}function d(e){return{logo:(0,i.jsx)(s.Z,{}),branchUrl:`https://bitbucket.org/${e.bitbucketRepoOwner}/${e.bitbucketRepoSlug}/branch/${e.bitbucketCommitRef}`,branchName:e.bitbucketCommitRef,sha:e.bitbucketCommitSha,commitUrl:`https://bitbucket.org/${e.bitbucketRepoOwner}/${e.bitbucketRepoSlug}/commits/${e.bitbucketCommitSha}`,commitMessage:e.bitbucketCommitMessage,gitDirty:e.gitDirty}}function u(e){if(e){if(e.githubDeployment)return o(e);if(e.gitlabDeployment)return c(e);if(e.bitbucketDeployment)return d(e)}}},344885:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(577389),s=n.n(i);function r(e){let{as:t,res:n,status:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){if(n){n.writeHead(i||302,{Location:t||e}),n.end();return}if(e.match(/^https?:\/\//)){window.setLocationHref(e);return}if("/"===e[0]&&"/"!==e[1])return r?s().replace(e,t):s().push(e,t);window.setLocationHref(`${window.location.protocol}//${window.location.host}${e}`)}}window.setLocationHref=e=>{window.isRedirecting=!0,window.location.href=e}},234917:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return tu}});var i=n(397458),s=n(465635),r=n.n(s),a=n(652983),l=n(731535),o=n.n(l),c=n(670868),d=n.n(c),u=n(577389),h=n.n(u),m=n(24570),p=n(425789),x=n(415837),g=n(821505),j=n.n(g),y=n(231454);let b=e=>e&&"object"==typeof e&&"a"===e.type,f=e=>(0,y.Z)(e.href)?(0,i.jsx)(v,{...e}):e.href.startsWith("#")?(0,i.jsx)(_,{...e}):(0,i.jsx)(Z,{...e}),v=e=>{let{href:t,as:n,children:s,prefetch:r=!0,...a}=e;return(0,i.jsx)(j(),{as:n,href:t,prefetch:!!r&&void 0,...a,children:s})},_=e=>{let{href:t,onClick:n,children:s}=e;return b(s)?a.cloneElement(s,{href:t}):(0,i.jsx)("a",{href:t,onClick:n,children:s})},Z=e=>{let{children:t,target:n="_blank",...s}=e;return b(t)?a.cloneElement(t,s):(0,i.jsx)("a",{rel:"noopener",target:n,...s,children:t})};var w=n(679538),E=n(369378),N=n(201396),k=n(378331),C=n(688236),R=n(434751);let P=(0,a.memo)(function(e){let t,{metadata:n=null}=e;if(!n)return(0,i.jsx)(w.Z,{content:(0,i.jsx)(E.ZP,{span:!0,children:(0,i.jsx)(C.Z,{})}),title:"Branch"});let{meta:s}=n;if(!(0,R.NE)(s))return(0,i.jsx)(w.Z,{content:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{className:"geist-inline-center",children:[(0,i.jsx)(k.Z,{color:"var(--geist-foreground)",fill:!0,size:16,style:{marginRight:5}}),(0,i.jsx)(E.ZP,{span:!0,children:"No repository"})]}),(0,i.jsx)("br",{}),(0,i.jsx)(E.ZP,{span:!0,style:{fontWeight:400},type:"secondary",children:(0,i.jsx)(N.r,{href:"/docs/git",tab:!0,variant:"secondary",children:"Learn how to deploy via Git"})})]}),title:"Branch"});if(s.githubDeployment?t=(0,R.DK)(s):s.gitlabDeployment?t=(0,R.pN)(s):s.bitbucketDeployment&&(t=(0,R.St)(s)),!t)return null;let{logo:r,branchName:a,branchUrl:l,sha:o,commitUrl:c,commitMessage:d,gitDirty:u}=t;return u?(0,i.jsx)(w.Z,{content:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{className:"geist-inline-center",children:[(0,i.jsx)(k.Z,{color:"var(--geist-foreground)",fill:!0,size:16,style:{marginRight:5}}),(0,i.jsx)(E.ZP,{span:!0,children:"No Git commit"})]}),(0,i.jsx)("br",{}),(0,i.jsx)(E.ZP,{span:!0,style:{fontWeight:400},type:"secondary",children:"via Vercel CLI"})]}),title:"Branch"}):(0,i.jsx)(w.Z,{content:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f,{className:"geist-reset",href:l,children:(0,i.jsxs)(E.ZP,{Component:"span",className:"geist-ellipsis",span:!0,style:{display:"block"},weight:600,children:[(0,i.jsx)("span",{style:{verticalAlign:-2,marginLeft:1,marginRight:2},children:r})," ",a]})}),(0,i.jsxs)(f,{className:"geist-reset geist-ellipsis",href:c,children:[(0,i.jsx)(E.ZP,{Component:"code",span:!0,type:"secondary",children:o.substr(0,7)}),(0,i.jsxs)(E.ZP,{Component:"span",span:!0,type:"secondary",children:[" — ",d]})]})]}),title:"Branch"})});var D=n(664885),L=n(50134),$=n(735746),I=n(488800),T=n(363056),O=n(633361),A=n(867370),S=n(577072),B=n(273801),M=n(481437),z=n(717417),H=n(924e3),F=n(708679),U=n(589383),V=n(727327),W=n(981408),G=n(935059),Y=n(113745),X=n(646952),q=n(32710),K=n(401778),J=n(783277),Q=n(37963),ee=n(854146),et=n(955913),en=n(62303),ei=n(526864),es=n(779004),er=n(968193),ea=n(273817),el=n(82435),eo=n(110810),ec=n(116669),ed=n(344885),eu=n(182845);let eh={QUEUED:`${eu.X}/queued.ico`,BUILDING:`${eu.X}/building.ico`,READY:`${eu.X}/success.ico`,ERROR:`${eu.X}/error.ico`,CANCELED:`${eu.X}/queued.ico`,INITIALIZING:`${eu.X}/building.ico`,UPLOADING:`${eu.X}/building.ico`,DEPLOYING:`${eu.X}/building.ico`,ARCHIVED:`${eu.X}/building.ico`},em=e=>{let{readyState:t,otherBitsRunning:n,hasFailure:i}=e;return n?eh.BUILDING:i?eh.ERROR:t&&eh[t]?eh[t]:void 0};var ep=n(241663),ex=n(191425),eg=n(85698),ej=n(631963),ey=n(742945),eb=n(172997),ef=n(530006),ev=n(570889),e_=n(695913),eZ=n(89378),ew=n(500374),eE=n(480821),eN=n(716652),ek=n(288250),eC=n(390667),eR=n(815780),eP=n(115194),eD=n(484957),eL=n(424864),e$=n(547179),eI=n(429844),eT=n(291748),eO=n(61509),eA=n(102560),eS=n(928303);function eB(e,t){let n;let i=function(e){if(!e)return;let t=["github","gitlab","bitbucket"].map(e=>`${e}CommitRef`).find(t=>t in e);if(t)return{[t]:e[t]}}(e?.meta),{data:s,isLoading:r}=(0,eS.Z)({limit:3*Number(Boolean(i)),projectId:e?.projectId||"",state:"READY",meta:i||{}}),l=s?.deployments.filter(e=>e.aliasAssigned).sort((e,t)=>Number(e.aliasAssigned)-Number(t.aliasAssigned)).pop(),o=l?.uid,{data:c,isLoading:d}=(0,X.ZP)(l?.aliasAssigned&&o!==e?.id?o:null);r||d||(n=c??e);let{data:u,mutate:h}=(0,K.w)(n,t),m=(0,a.useRef)({branch:"",aliases:[],isLatest:!1,isLoading:!0,mutate:h});if(u?.aliases&&(m.current.isLoading||u.aliases.length)){let p=!c||o===e?.id,{aliases:x}=u,g=(0,ej.c)(x.map(e=>{let{alias:t,redirect:n}=e;return{name:t,redirect:n}})).map(e=>e.name),j=g.pop()||"",y=x.find(e=>e.alias===j);m.current={branchAlias:y,branch:j,aliases:p?g:[],latest:c,isLatest:p,isLoading:!1,mutate:h}}return m.current.mutate=h,m.current}var eM=n(437803),ez=n(412421),eH=n(685108),eF=n(455522),eU=n(214853),eV=n(666673),eW=n(275600),eG=n.n(eW),eY=n(305341),eX=n.n(eY);let eq=e=>{let{containerRef:t,text:n,gapRight:i=0}=e;if(!t.current)return n;let s=document.createElement("canvas"),r=s.getContext("2d");if(!r)return n;let a=getComputedStyle(t.current);r.font=`${a.fontWeight} ${a.fontStyle} ${a.fontSize} ${a.fontFamily}`;let l=Math.round(r.measureText(n).width),o=Math.round(r.measureText("...").width),c=t.current.offsetWidth-i;if(l<=c)return n;let d=l/n.length,u=Math.round(Math.round((c-o)/2)/d),h=n.slice(0,u),m=n.slice(-u),p=`${h}...${m}`,x=Math.round(r.measureText(p).width),g=Math.floor((c-x)/d);if(0===g)return p;let j=n.slice(-(u+g));return`${h}...${j}`};var eK=n(465470),eJ=n(372862),eQ=n(524205),e0=n(639381);function e1(e){let{isLoading:t,switchStatus:n,deployment:s,alias:r,protectionBypass:l,protectionEnabled:o,onRegenerateShareableLink:c}=e,d=(0,ev.ic)(),u=r&&l&&o?(0,ek.uD)(r.alias,l):r?.alias,h="alias"===n?u:s.host,m=(0,a.useRef)(null),[x,g]=(0,a.useState)({text:h,isTruncated:!1}),j="alias"===n&&(l||t)&&(o||s.previewCommentsEnabled),y=(0,a.useCallback)(()=>h?eq({containerRef:m,text:h,gapRight:j?50:18}):"",[h,j]),b=(0,a.useCallback)(async()=>{g({text:h||"",isTruncated:!1}),await Promise.resolve(),m.current?.select()},[h]),f=(0,a.useCallback)(()=>{g({text:y(),isTruncated:!0})},[y]);return(0,a.useEffect)(()=>{g({text:y(),isTruncated:!0})},[y]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:(0,p.Z)(eX().container),style:{flexGrow:1,position:"relative"},children:[(0,i.jsx)("textarea",{className:(0,p.Z)(eX().textarea),disabled:!h,onBlur:f,onFocus:()=>void b(),readOnly:!0,ref:m,style:{whiteSpace:"nowrap",overflowY:"hidden",backgroundColor:"var(--accents-1)",color:t&&"alias"===n?"var(--accents-3)":void 0},value:t&&"alias"===n?"Updating link...":x.text||""}),j?(0,i.jsx)("div",{className:(0,p.Z)(eG()["regenerate-shareable-link-wrapper"]),children:t?(0,i.jsx)(e0.Z,{size:16}):(0,i.jsx)(U.Z,{text:"Reset link",children:(0,i.jsx)(H.z,{"aria-label":"Regenerate shareable link",className:(0,p.Z)(eG()["regenerate-shareable-link-button"]),onClick:c,style:{display:x.isTruncated?void 0:"none"},svgOnly:!0,variant:"ghost",children:(0,i.jsx)(eK.Z,{size:16})})})}):null]}),(0,i.jsx)(U.Z,{text:"Copy",children:(0,i.jsx)(eJ.Z,{disabled:t,label:"Copy link",onClick:()=>ef.c.track(ef.s.DEPLOYMENT_SHARE_COPY_LINK,{projectId:d,deploymentType:n}),textToCopy:(0,eg.j)(h||"")})}),(0,i.jsx)(U.Z,{text:"Visit",children:(0,i.jsx)(eN.Z,{"aria-label":"External link",disabled:!h||t,href:(0,eg.j)(h||""),shape:"square",style:{flexShrink:0},svgOnly:!0,tab:!0,children:(0,i.jsx)(Y.Z,{align:"center",direction:"row",gap:2,children:(0,i.jsx)(eQ.Z,{})})})})]})}var e2=n(571281),e3=n(209671),e4=n(633778),e6=n(539833),e5=n(70445),e7=n(898768),e8=n(14313);function e9(e){let{deployment:t,isLoading:n,switchStatus:s,protectionBypass:r,git:l,onCreateShareableLink:o,onDeleteShareableLink:c,openCreateTeamModal:d,canReadShareableLink:u}=e,{team:h,account:m}=(0,ee.Z)(),x=(0,ev.ic)(),g=m?.billing?.plan==="hobby",[j,y]=(0,a.useState)("alias"===s&&r?"anyone":"team"),{actions:{setOpen:b}}=(0,e7.H9)(),f=(0,a.useCallback)(e=>{y(e),"anyone"!==e||r?r&&c():o()},[o,c,r]),v=()=>{e5.c.track(e6.s.DEPLOYMENT_SHARE_UPGRADE_TO_PRO_CLICKED,{projectId:x}),b(!1),d()};(0,a.useEffect)(()=>{n||("deployment"===s&&"anyone"===j?y("team"):"alias"===s&&r&&"team"===j?y("anyone"):"alias"!==s||r||"anyone"!==j||y("team"))},[s,r,j,n]);let _=(0,a.useMemo)(()=>"deployment"===s?l?.branchName?(0,i.jsxs)(i.Fragment,{children:["This feature is only available for"," ",(0,i.jsx)(eR.Z,{size:14,style:{marginBottom:"-2px"}})," branch links"," "]}):(0,i.jsxs)(i.Fragment,{children:["This feature is only available for"," ",(0,i.jsx)(eI.Z,{size:14,style:{marginBottom:"-2px"}})," alias links"]}):u?void 0:"Your account does not have the required permissions to change this setting",[s,u,l?.branchName]);return(0,i.jsx)(e4.Ee,{onChange:e=>f(e),value:j,children:(0,i.jsxs)(Y.Z,{children:[(0,i.jsx)(eA.JH,{children:(0,i.jsx)(e4.Rk,{className:(0,p.Z)(eG()["radio-item"]),disabled:n,value:"team",children:(0,i.jsxs)(Y.Z,{align:"center",direction:"row",children:[(0,i.jsx)(M.x,{style:{flexGrow:1},children:h?"Only team members":"Only your personal account"}),(0,i.jsx)(e8.qE,{className:(0,p.Z)({[eG()["greyscale-avatar"]]:"anyone"===j}),size:24,teamId:h?.id,title:"",uid:m?.avatar})]})})}),(0,i.jsx)(eA.JH,{filled:Boolean(_),children:(0,i.jsxs)(Y.Z,{gap:3,style:{width:"100%"},children:[(0,i.jsx)(U.Z,{text:_,children:(0,i.jsx)(e4.Rk,{className:(0,p.Z)(eG()["radio-item"]),disabled:n||Boolean(_),value:"anyone",children:(0,i.jsxs)(Y.Z,{align:"center",direction:"row",justify:"space-between",children:[(0,i.jsxs)(Y.Z,{children:[(0,i.jsx)(M.x,{color:_?"accents-3":void 0,children:"Anyone with the link"}),t.previewCommentsEnabled?(0,i.jsxs)(M.x,{color:_?"accents-3":"accents-5",size:13,children:["Visitors must"," ",(0,i.jsx)("span",{className:"geist-hide-on-mobile",children:"be logged in"})," ",(0,i.jsx)("span",{className:"geist-show-on-mobile",children:"log in"})," to comment"]}):null]}),(0,i.jsxs)(Y.Z,{align:"center",direction:"row",gap:{sm:2,md:3,lg:3},children:[(0,i.jsx)(e3.Ct,{style:{backgroundColor:_?"var(--accents-3)":void 0},variant:"pink",children:"Beta"}),(0,i.jsx)(Y.Z,{align:"center",justify:"center",style:{borderRadius:"50%",backgroundColor:"anyone"===j?"var(--geist-success)":"var(--accents-2)",color:"anyone"===j?"#fff":"var(--accents-5)",width:24,height:24,flexShrink:0},children:(0,i.jsx)(eT.Z,{size:12,weight:"bold"})})]})]})})}),g&&"alias"===s?(0,i.jsxs)(Y.Z,{gap:3,children:[(0,i.jsx)("hr",{className:"geist-hr-reset"}),(0,i.jsxs)(Y.Z,{gap:2,children:[(0,i.jsx)(M.x,{weight:500,children:"Hobby accounts have a limit of one shareable link at a time."}),(0,i.jsxs)(Y.Z,{align:"center",direction:"row",gap:2,children:[(0,i.jsx)(M.x,{color:"accents-6",weight:400,children:"Upgrade to a Pro plan to remove this limit and access additional collaboration features."}),(0,i.jsx)(H.z,{onClick(){v()},size:"small",type:"success",children:"Upgrade"})]})]})]}):null]})})]})})}let te=e=>{let{previewCommentsEnabled:t,protectionEnabled:n}=e;return!t&&n?"can view":t&&!n?"can comment on":"can view and comment on"};function tt(e){let{disabled:t,deployment:n,project:s}=e,{user:r,team:l}=(0,ee.Z)(),{branchAlias:o,isLoading:c,mutate:d}=eB(n),u=(0,q.Z)(n.id),h=(0,a.useMemo)(()=>(0,R.ao)(u?.data?.meta),[u?.data?.meta]),m=(0,Q.e1)(),x="production"!==n.target,{value:g,isLoading:j}=function(e){var t;let{account:n,team:i,isLoading:s}=(0,ee.Z)(),r=(0,eF.Zu)(),l=Boolean(r.value),o=n?.enablePreviewFeedback??"default",c=o.includes("-force")||!1,d=o.replace("-force",""),u=function(e,t){switch(e){case"on":return!0;case"off":return!1;default:return t}}(d,l),h=(0,ev.ic)(),{data:m,isLoading:p}=(0,et.PY)(h,{apiVersion:"v10"}),x=m?m.enablePreviewFeedback??l:u,g=c?u:x,j=e?.branch,y=e?.target,b=!c&&e?m?.name:void 0,{data:{envs:f=[]}={},mutate:v,isLoading:_}=(0,eU.Z)(b),Z=j?f.find(e=>"VERCEL_PREVIEW_FEEDBACK_ENABLED"===e.key&&e.gitBranch===j):void 0,w=y?f.find(e=>"VERCEL_PREVIEW_FEEDBACK_ENABLED"===e.key&&(Array.isArray(e.target)?e.target.includes(y):e.target===y)&&!e.gitBranch):void 0,E=Z??w,{decryptEnvVar:N}=(0,eV.Q)(b?(0,eU.W)(b,i?.id):"",v,{projectName:b,teamId:i?.id});(0,a.useEffect)(()=>{E?.decrypted===!1&&N(E)},[E,N]);let k=E?.decrypted===!0?("1"===(t=E.value)||"true"===t||void 0)??("0"!==t&&"false"!==t&&void 0)??g:g,C=s||!r.isReady||p||_;return C?{value:null,isLoading:!0}:{value:k,isLoading:!1}}({target:x?"preview":"production",branch:h?.branchName}),[y,b]=(0,a.useState)("alias");(0,a.useEffect)(()=>{c||o||b("deployment")},[c,o]);let[f,v]=(0,a.useState)(!1),[_,Z]=(0,eL.X)({source:"Hobby account shareable link limit call to upgrade"}),{can:w}=(0,e_.ZP)(),E=w(e_.aU.Read,e_._z.AliasProtectionBypass),{enabled:k,vercelAuthEnabled:C,isLoading:P}=(0,e2.D9)({deployment:n,project:s}),D=o?(0,ek.RG)(o):null,L=(0,a.useMemo)(()=>te({previewCommentsEnabled:n.previewCommentsEnabled,protectionEnabled:Boolean(k)}),[n.previewCommentsEnabled,k]),$=(0,a.useCallback)(async e=>{if(!f&&o&&("create"===e||D)){switch(e){case"create":ef.c.track(ef.s.DEPLOYMENT_SHARE_GENERATE_EXTERNAL_LINK,{projectId:s.id});break;case"delete":ef.c.track(ef.s.DEPLOYMENT_SHARE_DISABLE_EXTERNAL_LINK,{projectId:s.id});break;case"regenerate":ef.c.track(ef.s.DEPLOYMENT_SHARE_REGENERATE_EXTERNAL_LINK,{projectId:s.id})}v(!0);try{await (0,eM.x)({teamId:l?.id,aliasId:o.uid,body:"create"!==e?{revoke:{secret:D||"",regenerate:"regenerate"===e}}:{}})}catch(t){m.error("An error occured, please try again later.")}await d(),v(!1)}},[o,s.id,D,d,l?.id,m,f]),I=(0,a.useCallback)(e=>{b(e),"deployment"===e&&ef.c.track(ef.s.DEPLOYMENT_SHARE_SWITCH_DEPLOYMENT,{projectId:s.id,deploymentType:y})},[s.id,y]),T=(0,a.useMemo)(()=>D?(0,i.jsx)(eT.Z,{}):k?(0,i.jsx)(eO.Z,{}):(0,i.jsx)(eC.Z,{}),[D,k]);return c||j||P?(0,i.jsx)(O.O,{children:(0,i.jsx)(H.z,{width:96})}):x||k?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(A.Fe,{position:"bottom-end",children:[(0,i.jsx)(A.j2,{align:k?"grow":"center",disabled:t,style:{color:t?void 0:"var(--accents-7)"},suffix:T,type:"secondary",typeName:"button",width:96,children:"Share"}),(0,i.jsx)(A.v2,{style:{padding:0},width:484,children:(0,i.jsxs)(Y.Z,{children:[(0,i.jsx)(ew.v,{children:(0,i.jsxs)(Y.Z,{align:"center",direction:"row",justify:"space-between",style:{padding:"20px 0"},children:[(0,i.jsxs)(Y.Z,{gap:2,children:[(0,i.jsxs)(M.x,{size:20,children:["Share ",x?" Preview":""]}),k?(0,i.jsxs)(Y.Z,{align:"center",direction:"row",gap:1,children:[(0,i.jsx)(e$.Z,{color:"var(--accents-5)",size:16}),(0,i.jsxs)(M.x,{color:"accents-5",children:[x?"Preview":"All"," deployments"," ",(0,i.jsxs)("span",{className:"geist-hide-on-mobile",children:["in this project"," "]}),"are protected."]})]}):null]}),(0,i.jsx)(eN.Z,{align:"center","aria-label":"Settings",href:(0,e2.Er)({team:l,user:r,project:s}),label:"Settings",shape:"circle",size:"small",svgOnly:!0,variant:"ghost",children:(0,i.jsx)(eD.Z,{})})]})}),(0,i.jsx)(Y.Z,{gap:1,style:{padding:"var(--geist-space-gap) 0",borderTop:"1px solid var(--accents-2)"},children:(0,i.jsxs)(Y.Z,{gap:5,children:[(0,i.jsx)(Y.Z,{gap:5,children:(0,i.jsx)(ew.v,{children:(0,i.jsxs)(Y.Z,{gap:4,style:{flexGrow:1},children:[(0,i.jsxs)(Y.Z,{direction:"row",gap:{sm:2,md:3,lg:3},children:[(0,i.jsx)(ez.Z,{active:y,items:[{name:"Branch",icon:h?.branchName?(0,i.jsx)(eR.Z,{size:16,style:{width:"28px",marginTop:"4px"}}):(0,i.jsx)(eI.Z,{size:16,style:{width:"28px",marginTop:"4px"}}),value:"alias",tooltipProps:{text:o?.alias?`${h?.branchName?"Branch deployment":"Alias link"}`:`No ${h?.branchName?"branch":"alias"} domain assigned.`},disabled:!o?.alias||f},{name:"Commit",icon:(0,i.jsx)(eP.Z,{size:16,style:{width:"28px",marginTop:"4px"}}),value:"deployment",disabled:!n.host||f,tooltipProps:{text:n.host?`${h?.branchName?"Commit deployment":"Deployment link"}`:"No domain assigned for deployment"}}],onChange:e=>I(e)}),(0,i.jsx)(e1,{alias:o,deployment:n,isLoading:f,onRegenerateShareableLink:()=>void $("regenerate"),protectionBypass:D,protectionEnabled:k,switchStatus:y})]}),n.previewCommentsEnabled||k?(0,i.jsxs)(i.Fragment,{children:["alias"===y?(0,i.jsxs)(M.x,{as:"span",children:["Choose who ",L," ",x?"previews":"deployments"," ","for the"," ",h?.branchName?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(N.r,{href:h.branchUrl,title:"Git Branch",children:[(0,i.jsx)(eR.Z,{size:16,style:{marginBottom:"-3px"}})," ",(0,i.jsx)(M.x,{as:"span",style:{lineHeight:"13px",fontFamily:"var(--font-mono)",fontSize:"13px",fontWeight:"500"},children:h.branchName})]})," ","branch:"]}):(0,i.jsx)(i.Fragment,{children:"alias:"})]}):(0,i.jsxs)(M.x,{children:["Choose who ",L," ",x?"the deployment preview":"this production deployment",":"]}),(0,i.jsx)(e9,{canReadShareableLink:E,deployment:n,git:h,isLoading:f,onCreateShareableLink:()=>void $("create"),onDeleteShareableLink:()=>void $("delete"),openCreateTeamModal:Z,protectionBypass:D,switchStatus:y})]}):null]})})}),!n.previewCommentsEnabled&&x?(0,i.jsx)(ew.v,{children:g?(0,i.jsx)(eH.Z,{fill:!0,label:"Note",type:"warning",variant:"contrast",children:"Comments will only be available for new builds."}):(0,i.jsx)(eA.JH,{children:(0,i.jsxs)(Y.Z,{align:"center",gap:2,justify:"center",style:{width:"100%",textAlign:"center",padding:"var(--geist-space-2x)"},children:[(0,i.jsx)(M.x,{color:"accents-7",weight:400,children:"Preview Comments are disabled for this deployment."}),(0,i.jsx)(N.r,{external:!0,href:(0,e2.B8)({team:l}),onClick(){ef.c.track(ef.s.DEPLOYMENT_SHARE_CLICK_ON_ENABLE_PREVIEW_COMMENTS,{projectId:s.id})},variant:"highlight",children:"Enable Comments"})]})})}):null,!C&&E?(0,i.jsx)(ew.v,{children:(0,i.jsx)(eN.Z,{align:"start",className:(0,p.Z)(eG()["enable-vercel-auth-button"]),href:(0,e2.Er)({team:l,user:r,project:s}),onClick(){ef.c.track(ef.s.DEPLOYMENT_SHARE_CLICK_ON_ENABLE_VERCEL_AUTHENTICATION,{projectId:s.id})},size:"large",suffix:(0,i.jsx)(eE.Z,{color:"var(--accents-5)",size:20}),children:(0,i.jsx)(M.x,{color:"accents-7",weight:400,children:"Enable Vercel Authentication for this project"})})}):null]})})]})})]}),(0,i.jsx)(_,{})]}):null}var tn=n(218557),ti=n(97146),ts=n(700740),tr=n(539831),ta=n.n(tr);let tl=(0,a.memo)(function(e){let{active:t,onClose:n,deployment:s,teamId:r}=e,[l,o]=(0,a.useState)(!1),c=(0,u.useRouter)(),{data:d}=(0,et.PY)(s?.projectId),h=(0,a.useCallback)(async()=>{o(!0),await (0,ex.I)(`${(0,ep.PP)("v2")}/${s.id}`+(r?"?teamId="+r:""),{throwOnHTTPError:!0,method:"DELETE"}),c.replace("/[teamSlug]/[project]?deploymentDeleted=1",`/${c.query.teamSlug}/${encodeURIComponent(d?.name||"")}`,{shallow:!0}),o(!1)},[s,r,c,d]);return(0,i.jsxs)(L.Modal,{active:t,onClickOutside:n,width:"500px",children:[(0,i.jsxs)(Y.Z,{align:"center",justify:"center",children:[(0,i.jsx)(E.ZP,{h3:!0,children:"Delete Deployment"}),(0,i.jsx)(S.L,{y:-2})]}),(0,i.jsxs)(L.Body,{children:[(0,i.jsxs)(E.ZP,{preset:"body-2",children:[(0,i.jsx)("b",{children:"NOTE:"})," Deployments that are not actively receiving any traffic do not generate any costs nor count towards any limits."]}),(0,i.jsx)(E.ZP,{preset:"body-2",children:"Deleting this deployment will prevent you from instantly reverting and might break links used in integrations, such as the ones in the pull requests of your Git provider."}),(0,i.jsx)(E.ZP,{preset:"body-2",children:"Are you sure you want to continue?"})]}),(0,i.jsxs)(L.Actions,{children:[(0,i.jsx)(L.Action,{loading:!1,onClick:n,children:"Cancel"}),(0,i.jsx)(L.Action,{disabled:l,loading:l,onClick:h,children:"Delete"})]})]})}),to=(0,a.memo)(function(e){let t,{deployment:n,branch:s,aliases:r,isLoading:a}=e;if(!n||a)t=(0,i.jsx)(C.Z,{});else{let l=null,o=null;r.length&&(l=(0,i.jsxs)("div",{className:ta().line,children:[(0,i.jsx)(ti.Globe,{size:16}),(0,i.jsx)("span",{className:ta().linkWrapper,children:(0,i.jsx)(I.Z,{domains:r,firstOnly:!0,showIcon:!1})})]})),s&&(o=(0,i.jsxs)("div",{className:ta().line,children:[(0,i.jsx)(ti.GitBranch,{size:16}),(0,i.jsx)("span",{className:ta().linkWrapper,children:(0,i.jsx)(N.r,{href:(0,eg.j)(s),children:s})}),(0,i.jsx)(U.Z,{className:ta().tooltip,text:"Always up-to-date preview of this branch",children:(0,i.jsx)(ti.Info,{size:16})})]}));let c=n.host;t=(0,i.jsxs)(i.Fragment,{children:[l,o,(0,i.jsxs)("div",{className:ta().line,children:[(0,i.jsx)(ti.GitCommit,{size:16}),(0,i.jsx)("span",{className:ta().linkWrapper,children:(0,i.jsx)(N.r,{href:(0,eg.j)(c),children:c})}),(0,i.jsx)(U.Z,{className:ta().tooltip,text:"Preview of this deployment",children:(0,i.jsx)(ti.Info,{size:16})})]})]})}return(0,i.jsx)(Y.Z,{className:ta().domains,gap:1,children:t})}),tc=(0,a.memo)(function(e){let t,n,{meta:s}=e,r=(0,a.useMemo)(()=>(0,R.ao)(s),[s]),l=(0,m.usePathname)();if(t=s?r?(0,i.jsxs)("div",{className:ta().line,children:[(0,i.jsx)(ti.GitBranch,{size:16}),(0,i.jsx)(N.r,{href:r.branchUrl,title:"Git Branch",children:(0,i.jsx)(ts.Z,{noWrap:!0,children:r.branchName})})]}):(0,i.jsxs)("div",{className:ta().line,children:[(0,i.jsx)(ti.Code,{size:16}),(0,i.jsx)(N.r,{href:l?`${l}/source`:"",children:"View code"})]}):(0,i.jsx)(C.Z,{}),s){if(r&&"1"!==r.gitDirty){let o=r.commitMessage;n=(0,i.jsxs)("div",{className:ta().line,children:[(0,i.jsx)(ti.GitCommit,{size:16}),(0,i.jsxs)(N.r,{href:r.commitUrl,title:"Git Commit",children:[(0,i.jsx)(ts.Z,{noWrap:!0,children:r.sha.substring(0,7)}),(0,i.jsx)("span",{title:o,children:o.length>70?`${o.substring(0,70)}…`:o})]})]})}else n=(0,i.jsxs)("div",{className:ta().line,children:[(0,i.jsx)(ti.Terminal,{size:16}),(0,i.jsx)(N.r,{href:"/docs/cli/deploy",title:"Vercel CLI Docs",children:(0,i.jsx)(ts.Z,{noWrap:!0,children:"vercel deploy"})})]})}else n=null;return(0,i.jsx)(w.Z,{content:(0,i.jsxs)(Y.Z,{className:ta().deploymentGit,gap:1,children:[t,n]}),title:"Source"})}),td=(0,a.memo)(function(e){let{deployment:t,deploymentState:n,openRedeployModal:s,publicDeploymentWithNoAccess:l}=e,o=(0,eF.mT)(),c=(0,es.Z)(),{data:u,isValidating:h,error:m}=(0,q.Z)(c),{data:g}=(0,et.PY)(t?.projectId),[j,y]=(0,a.useState)(!1),[b,f]=(0,a.useState)(!1),v=(0,Q.e1)(),{isLoggedOut:_}=(0,J.a)(),{user:Z,team:k}=(0,ee.Z)(),{data:R}=(0,ev.d)(g),{isReady:L,value:M}=(0,tn.M)(),{data:X,error:ei,isValidating:ea}=(0,K.w)(_?null:t,{refreshInterval:5e3}),el=eB(t),eo=!t||el.isLoading,ec=u?.meta,ed=o.isReady&&o.value,eu=(0,a.useCallback)(e=>{d()(e),v.message("Copied to clipboard!"),ef.c.track(ef.s.DEPLOYMENT_OVERVIEW_COPIED_DEPLOYMENT_URL,{projectId:t?.projectId||g?.id,deploymentId:t?.id,deploymentTarget:t?.target})},[t,g,v]),eh=(0,a.useMemo)(()=>t&&n?(0,i.jsx)(x.Z,{deployment:t,label:!0,state:n}):(0,i.jsx)(C.Z,{}),[t,n]),em=function(){let{readyState:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!e&&"QUEUED"!==e&&"BUILDING"!==e},{modal:ep,open:ex}=(0,en.Z)(t?.projectId,g),{areChecksRunning:ey,areDomainsAssigning:ew}=(0,eb.Z)(t),{can:eE,isLoading:eN}=(0,e_.ZP)({projectId:g?.id}),ek=t?.target!==null?e_._z.Deployment:e_._z.DeploymentPreview,eC=eE(e_.aU.Update,ek),eR=eE(e_.aU.Read,ek)||_&&t?.public,eP=eE(e_.aU.Delete,ek),eD=eE(e_.aU.Create,e_._z.Deployment),eL=eD||eC||eR||eP,e$=eD&&eC&&eR&&eP,{enabled:eI,isLoading:eT}=(0,e2.D9)({deployment:t,project:g}),eO=t?.target!=="production",eA=(0,a.useMemo)(()=>{let e=M&&(eI||eO),r=e?96:206;return!L||eT?(0,i.jsxs)(Y.Z,{direction:"row",gap:3,children:[(0,i.jsx)(O.O,{height:40,width:40}),(0,i.jsx)(O.O,{className:"cta-skeleton",height:40,width:206})]}):(0,i.jsxs)(Y.Z,{align:"flex-end",direction:"row",gap:3,children:[(0,i.jsxs)(O.O,{show:!(t&&u)||eN&&!_,children:[eL?(0,i.jsxs)(A.Fe,{position:"bottom-end",children:[(0,i.jsx)(A.j2,{"aria-label":"Deployment Actions","data-testid":(0,eZ.C)("deployment-actions","more-button"),disabled:!t||!u,shape:"square",svgOnly:!0,type:"secondary",children:(0,i.jsx)(G.Z,{size:20})}),(0,i.jsxs)(A.v2,{width:"auto",children:[l?null:(0,i.jsxs)(i.Fragment,{children:[eD?(0,i.jsx)(A.sN,{onClick:t?()=>ex(t):void 0,children:"Promote to Production"}):null,eC?(0,i.jsx)(A.sN,{disabled:l??void 0,onClick:s,children:"Redeploy"}):null]}),eR?(0,i.jsx)(A.sN,{onClick:t?()=>eu(`https://${t.host}`):void 0,children:"Copy URL"}):null,!l&&ec&&eP?(0,i.jsx)(A.sN,{disabled:!em(t),onClick:()=>y(!0),type:"error",children:"Delete"}):null,!e$&&!_&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(A.R,{}),l?null:(0,i.jsxs)(i.Fragment,{children:[eD?null:(0,i.jsx)(A.dc,{children:"Promote to Production"}),eC?null:(0,i.jsx)(A.dc,{children:"Redeploy"})]}),eR?null:(0,i.jsx)(A.dc,{children:"Copy URL"}),l||!ec||eP?null:(0,i.jsx)(A.dc,{children:"Delete"})]})]})]}):null,!eL&&(0,i.jsx)(U.Z,{position:"bottom",text:(0,i.jsxs)(i.Fragment,{children:["Additional permissions are required to manage Deployment."," ",(0,i.jsx)(N.r,{href:"/docs/concepts/deployments/overview",variant:"highlight",children:"Learn More →"})]}),children:(0,i.jsx)(H.z,{"aria-label":"Deployment Actions","data-testid":(0,eZ.C)("deployment-actions","more-button"),disabled:!0,shape:"square",svgOnly:!0,type:"secondary",children:(0,i.jsx)(G.Z,{size:20})})})]}),e?g&&t?(0,i.jsx)(tt,{deployment:t,disabled:ew||ey||"READY"!==n,project:g}):(0,i.jsx)(O.O,{className:"cta-skeleton",height:40,width:96}):null,t&&u?ey?(0,i.jsx)(H.z,{className:(0,p.Z)(ta().deploymentButton),disabled:!0,width:r,children:e?"Waiting...":"Waiting for Checks"}):ew?(0,i.jsx)(H.z,{className:(0,p.Z)(ta().deploymentButton),disabled:!0,width:r,children:e?"Waiting...":"Waiting for Domains"}):"READY"===n?(0,i.jsx)(V.Z,{external:!0,href:(0,eg.j)(t.url),onClick(){ef.c.track(ef.s.DEPLOYMENT_OVERVIEW_CLICKED_VISIT_BUTTON,{projectId:t.projectId||g?.id,deploymentId:t.id,deploymentTarget:t.target})},width:r,children:"Visit"}):"ERROR"===n?void 0===ec&&h?(0,i.jsx)(O.O,{className:"cta-skeleton",height:40,width:r}):l||!eC?(0,i.jsx)(U.Z,{position:"top",style:{flexGrow:1},text:"You are not the owner of this deployment. In turn, you cannot re-deploy it.",children:(0,i.jsx)(H.z,{className:(0,p.Z)(ta().deploymentButton),disabled:!0,width:r,children:"Redeploy"})}):(0,i.jsx)(H.z,{className:(0,p.Z)(ta().deploymentButton),onClick:s,type:"error",width:r,children:"Redeploy"}):(Z||k)&&!["READY","ERROR","CANCELED"].includes(t.readyState)?(0,i.jsx)(F.Z,{border:!0,onClick:()=>f(!0),style:{"--button-fg":"var(--geist-error)","--button-bg":"transparent","--button-fg-hover":"#fff","--button-bg-hover":"var(--geist-error)"},type:"error",width:r,children:"Cancel"}):(0,i.jsx)(V.Z,{disabled:!0,external:!0,href:`https://${t.host}`,type:"success",width:r,children:"Visit"}):(0,i.jsx)(O.O,{className:"cta-skeleton",height:40,width:r})]})},[t,u,eN,_,eL,l,eD,eC,s,eR,ec,eP,e$,ey,ew,n,h,Z,k,ex,eu,g,L,M,eI,eT,eO]),eS=(0,a.useMemo)(()=>{if(m||ei?.status===403&&!t?.public)return(0,i.jsx)(E.ZP,{span:!0,children:"-"});if(!t||!X&&ea||!u)return(0,i.jsx)(E.ZP,{span:!0,children:(0,i.jsx)(C.Z,{})});let e=[...X?.aliases||[],t.host].map(e=>({name:"string"==typeof e?e:e.alias,redirect:"string"==typeof e?null:e.redirect}));return(0,i.jsx)(I.Z,{domains:(0,ej.c)(e).map(e=>e.name)})},[m,ei,t,X,ea,u]),eM=t?.createdAt||t?.created,ez=(0,er.Rd)(eM,{suffix:" ago"});return(0,i.jsxs)(B.Z,{borderBottom:!0,size:z.br.AUTO,children:[(0,i.jsxs)(Y.Z,{style:{minWidth:"100%"},children:[(0,i.jsx)(S.L,{y:2.2}),(0,i.jsxs)(Y.Z,{direction:{sm:"column",md:"row",lg:"row"},gap:2,children:[(0,i.jsx)(Y.Z,{children:(0,i.jsx)(W.Z,{className:(0,p.Z)(ta().screenshotAside,ed&&ta().bigger),position:z.Vr.LEFT,positionMobile:z.Vr.TOP,positionTablet:z.Vr.LEFT,width:"",children:(0,i.jsxs)(Y.Z,{justify:"center",children:[(0,i.jsx)($.Z,{deployment:t,idForLoadingPreview:R?.id,ignoreAliasWarning:!1,showError:!0,useDeploymentUrl:!0}),(0,i.jsx)(S.L,{className:"geist-show-on-tablet",y:.5}),(0,i.jsx)(Y.Z,{className:"geist-show-on-tablet button-tablet",children:eA})]})})}),(0,i.jsxs)(Y.Z,{direction:"column",flex:"1 1 auto",gap:6,style:{width:"100%",overflow:"hidden"},children:[(0,i.jsxs)(Y.Z,{className:"deployment-info-row",direction:"row",children:[(0,i.jsx)(Y.Z,{direction:{sm:"column",md:"column",lg:"row"},flex:"1 1 auto",gap:{sm:6,md:6,lg:12},children:(0,i.jsxs)(Y.Z,{className:ta().deploymentInfo,direction:"row",gap:4,children:[(0,i.jsx)(Y.Z,{style:{minWidth:148},children:(0,i.jsx)(w.Z,{content:eh,title:"Status"})}),(0,i.jsx)(Y.Z,{style:{minWidth:148},children:(0,i.jsx)(w.Z,{content:function(e){if(!e)return(0,i.jsx)(C.Z,{});switch(e.target){case"production":return"Production";case"staging":return"Staging";default:return"Preview"}}(t),title:"Environment"})}),(0,i.jsx)(Y.Z,{style:{minWidth:160},children:(0,i.jsx)(w.Z,{content:(0,i.jsx)(D.Z,{animateSpinner:!0,createdAgo:ez,deployment:t}),title:"Duration",tooltip:"The time it takes to build and run checks against your deployment before being available on the Edge Network."})})]})}),(0,i.jsx)(Y.Z,{align:"flex-end",className:"geist-hide-on-tablet",flex:"0 0 230px",children:eA})]}),ed?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Y.Z,{style:eo?{minHeight:190}:void 0,children:(0,i.jsx)(w.Z,{content:(0,i.jsx)(to,{deployment:t,...el}),title:"Domains"})}),!eo&&(0,i.jsx)(Y.Z,{style:{minHeight:70},children:(0,i.jsx)(tc,{meta:ec})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Y.Z,{children:(0,i.jsx)(w.Z,{content:eS,title:"Domains"})}),(0,i.jsx)(Y.Z,{style:{minHeight:69},children:(0,i.jsx)(P,{metadata:u})})]})]})]}),(0,i.jsx)(S.L,{y:2.2})]}),t&&u?(0,i.jsx)(tl,{active:j,deployment:t,onClose:()=>y(!1),teamId:t?.team?.id}):null,t&&u?(0,i.jsx)(T.Z,{active:b,deployment:t,onClose:()=>f(!1),teamId:t.team?t.team.id:null}):null,ep,(0,i.jsx)(r(),{id:"c80f1be4e2f3117f",children:".button-tablet{width:100%}.button-tablet button,.button-tablet a.button,.button-tablet .cta-skeleton{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.deployment-url-row{margin-top:0!important}"})]})});var tu=(0,ec.ZP)(function(){let e=(0,u.useRouter)(),t=(0,a.useRef)(!1),{isLoggedOut:n}=(0,J.a)(),s=(0,a.useRef)(3e3),[r,l]=(0,a.useState)([]),{redirect:c}=e.query,d=(0,es.Z)(),{data:m,error:p,mutate:x}=(0,X.ZP)(d,{refreshInterval:s.current},{automaticAliases:!0}),{data:g}=(0,et.PY)(m?.projectId),j=m?.readyState;s.current=m?.aliasAssigned||"ERROR"===j||"CANCELED"===j?0:3e3;let{modal:y,open:b}=(0,ei.Z)(m?.projectId||null,g),f=(0,a.useCallback)(()=>m?b(m):null,[b,m]),{areChecksRunning:v,areDomainsAssigning:_}=(0,eb.Z)(m),Z=em({readyState:m?.readyState,otherBitsRunning:v||_,hasFailure:m?.checksConclusion==="failed"||!!m?.aliasError});(0,a.useEffect)(()=>{c&&!t.current&&m&&"READY"===j&&(t.current=!0,(0,ed.Z)(`https://${m.host}`))},[m,j,c]);let w=(0,ea.m)();if((0,a.useEffect)(()=>{p?.code==="not_found"&&n&&h().replace(`/login?next=${encodeURIComponent((0,eo.J)())}`)},[p,n]),p){let E="not_found"===p.code&&n;E||(0,el.Z)(p)}return(0,a.useEffect)(()=>{"ERROR"===j&&l([ey.Ss[0]])},[j]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o(),{children:[(0,i.jsx)("title",{children:g?.name?`${g.name} – Deployment Overview`:"Deployment Overview"}),Z?(0,i.jsx)("link",{href:Z,rel:"icon shortcut",type:"image/x-icon"},"active-favicon"):null]}),(0,i.jsx)(td,{deployment:m,deploymentState:j,openRedeployModal:f,publicDeploymentWithNoAccess:"boolean"==typeof w?w:void 0},d),y,(0,i.jsxs)("div",{className:ta().steps,children:[(0,i.jsxs)("div",{className:ta().stepsHeader,children:[(0,i.jsx)(M.x,{as:"h1",className:ta().stepsHeading,size:24,weight:600,children:"Deployment Status"}),(0,i.jsx)(H.z,{onClick(){r.length>0?l([]):l(ey.Ss)},type:"secondary",children:r.length>0?"Collapse All":"Expand All"})]}),(0,i.jsx)(ey.Eb,{creationFlow:!1,deployment:m,expandedSteps:r,mutateDeployment:x,onExpandedStepsChange:e=>l(e)})]})]})},{requireAuth:!1,pageName:"Deployment Overview",active:"Deployment",pageProps:{deployment:!0,dashboard:!1,noIndex:!0}})},708028:function(e,t,n){"use strict";n.d(t,{In:function(){return l},Y0:function(){return o},p5:function(){return a}});var i=n(241663),s=n(191425),r=n(202764);function a(e){return l(e.id)}function l(e){return e.startsWith("env")}function o(e){let{envVars:t,teamId:n,projectId:l}=e;return a(t[0])?function(e){let{envVars:t,teamId:n}=e;return(0,s.I)(`${i.Nc}${(0,r.c)({teamId:n})}`,{body:JSON.stringify({ids:t.map(e=>e.id)}),method:"DELETE",throwOnHTTPError:!0})}({envVars:t,teamId:n}):function(e){let{envVars:t,projectId:n,teamId:a}=e;return Promise.all(t.map(e=>(0,s.I)(`${(0,i.HJ)("v7")}/${n??""}/env/${e.id}${(0,r.c)({teamId:a})}`,{method:"DELETE",throwOnHTTPError:!0})))}({envVars:t,teamId:n,projectId:l})}},666673:function(e,t,n){"use strict";n.d(t,{Q:function(){return u}});var i=n(498828),s=n(652983),r=n(695913),a=n(476795),l=n(708028),o=n(241663),c=n(202764),d=n(191425);function u(e,t,n){let[u,h]=(0,s.useState)(void 0),{cache:m}=(0,i.kY)(),{data:p}=function(e,t,n){let{isReady:s,team:u}=(0,a.t7)(),{can:h,isLoading:m}=(0,r.ZP)(),p=h(r.aU.Read,r._z.ProjectEnvVars),x="";return s&&!m&&p&&t&&((0,l.In)(t)?x=`${o.Nc}/${t}${(0,c.c)({teamId:u?.id})}`:e&&(x=`${(0,o.HJ)("v1")}/${encodeURIComponent(e)}/env/${t}${(0,c.c)({teamId:u?.id})}`)),(0,i.ZP)(x,e=>(0,d.I)(e,{throwOnHTTPError:!0}),void 0)}(n.projectId||n.projectName,u?.id);return(0,s.useEffect)(()=>{if(!u||!p)return;let n=m.get(e)?.data;if(0===n.envs.length)return;let i=[...n.envs],s=i.findIndex(e=>e.id===u.id),r=i[s];p.updatedAt&&r.updatedAt&&!(p.updatedAt<r.updatedAt)&&(i[s]=p,t({envs:i},!1),h(void 0))},[e,m,p,u,t]),{decryptEnvVar:h}}},437803:function(e,t,n){"use strict";n.d(t,{i:function(){return a},x:function(){return l}});var i=n(241663),s=n(191425),r=n(202764);async function a(e){let{projectIdOrName:t,teamId:n,body:a}=e;return(0,s.I)(`${(0,i.HJ)("v10")}/${t}/protection-bypass${(0,r.c)({teamId:n})}`,{method:"PATCH",body:JSON.stringify(a),throwOnHTTPError:!0})}async function l(e){let{aliasId:t,teamId:n,body:a}=e;return(0,s.I)(`${i.sL}/${t}/protection-bypass${(0,r.c)({teamId:n})}`,{method:"PATCH",body:JSON.stringify(a),throwOnHTTPError:!0})}},288250:function(e,t,n){"use strict";n.d(t,{Gc:function(){return r},RG:function(){return i},uD:function(){return s}});let i=e=>{if(!e.protectionBypass)return null;let[t]=Object.keys(e.protectionBypass);return t||null},s=(e,t)=>`${e}?_vercel_share=${t}`,r=e=>`x-vercel-protection-bypass: ${e}`},32710:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(498828),s=n(191425),r=n(241663),a=n(202764),l=n(646952);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"v10";if("string"==typeof e){let{data:n}=(0,l.ZP)(e);return(0,i.ZP)(()=>{let{team:e,id:i}=n;return`${(0,r.PP)(t)}/${i}${(0,a.c)({teamId:e?e.id:null})}`},e=>(0,s.Z)(e,{throwOnHTTPError:!0}),{revalidateOnFocus:!1})}if("object"==typeof e)return(0,i.ZP)(()=>{let{team:n,id:i,teamId:s}=e;return`${(0,r.PP)(t)}/${i}${(0,a.c)({teamId:n?n.id:s||null})}`},e=>(0,s.Z)(e,{throwOnHTTPError:!0}),{revalidateOnFocus:!1});throw Error("Wrong argument type")}},275600:function(e){e.exports={"enable-vercel-auth-button":"share-deployment_enable-vercel-auth-button__jDEm5","regenerate-shareable-link-wrapper":"share-deployment_regenerate-shareable-link-wrapper__AmdCJ","regenerate-shareable-link-button":"share-deployment_regenerate-shareable-link-button__46vfe","radio-item":"share-deployment_radio-item__YHc7M","greyscale-avatar":"share-deployment_greyscale-avatar__VVK81"}},400246:function(e){e.exports={code:"inline_code__eh_jc",nowrap:"inline_nowrap__DF6bB"}},302995:function(e){e.exports={description:"description_description__tkLFD",icon:"description_icon__FB2dm",right:"description_right__M50Q6",ellipsis:"description_ellipsis__wTZXS"}},492170:function(e){e.exports={title:"hero_title__62VIx",sm:"hero_sm__gO_z2",md:"hero_md__I8buH",lg:"hero_lg__l9tmk",avatar:"hero_avatar__MhKPB",header:"hero_header__1MQeg",center:"hero_center__96nll",actions:"hero_actions__gqyqA",controls:"hero_controls__wl6WP",menu:"hero_menu__uyIBu"}},34024:function(e){e.exports={item:"radio_item__yFcZ1",check:"radio_check__uN0Im",icon:"radio_icon__5kxj0",text:"radio_text__kGaGM",disabled:"radio_disabled__b1G1v",input:"radio_input__4aj_W"}},539831:function(e){e.exports={screenshotAside:"styles_screenshotAside__Y4evL",bigger:"styles_bigger__Wc3Qk",deploymentInfo:"styles_deploymentInfo__zvdB4",domains:"styles_domains__1ML11",line:"styles_line__0kRDa",deploymentGit:"styles_deploymentGit__12kD4",subtle:"styles_subtle__18iW3",linkWrapper:"styles_linkWrapper__o2F0H",tooltip:"styles_tooltip__9uTOw",steps:"styles_steps__g97_w",stepsHeader:"styles_stepsHeader__jkWSj",stepsHeading:"styles_stepsHeading___8Qk2",deploymentButton:"styles_deploymentButton__B9Orr"}},172635:function(e,t,n){"use strict";n.d(t,{S:function(){return d}});var i=n(652983),s=n(274567);let r=(0,i.createContext)(null);var a=n(924260);let l=e=>!e.isLayoutDirty&&e.willUpdate(!1),o=e=>!0===e,c=e=>o(!0===e)||"id"===e,d=({children:e,id:t,inheritId:n,inherit:d=!0})=>{void 0!==n&&(d=n);let u=(0,i.useContext)(s.p),h=(0,i.useContext)(r),[m,p]=(0,a.N)(),x=(0,i.useRef)(null),g=u.id||h;null===x.current&&(c(d)&&g&&(t=t?g+"-"+t:g),x.current={id:t,group:o(d)&&u.group||function(){let e=new Set,t=new WeakMap,n=()=>e.forEach(l);return{add(i){e.add(i),t.set(i,i.addEventListener("willUpdate",n))},remove(i){var s;e.delete(i),null===(s=t.get(i))||void 0===s||s(),t.delete(i),n()},dirty:n}}()});let j=(0,i.useMemo)(()=>({...x.current,forceRender:m}),[p]);return i.createElement(s.p.Provider,{value:j},e)}}},function(e){e.O(0,[80508,11591,76588,53575,82366,1257,92576,4369,86157,15127,67566,80953,32992,50340,63385,12593,78856,11759,49774,92888,40179],function(){return e(e.s=612147)}),_N_E=e.O()}]);