(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23430],{341550:function(e,t,n){"use strict";var r=n(397458),i=n(465635),l=n.n(i);n(652983);var s=n(577389),a=n(50134),o=n(201396),c=n(369378),d=n(219987);t.Z=function(e){let{active:t,onCancel:n}=e,{teamSlug:i,project:u}=(0,s.useRouter)().query;return(0,r.jsxs)(a.Modal,{active:t,onClickOutside:n,children:[(0,r.jsxs)(a.Body,{children:[(0,r.jsx)("header",{className:"jsx-82477dff3d3a1197",children:(0,r.jsx)(c.ZP,{Component:"h2",h3:!0,noMargin:!0,children:"Assign Domain"})}),(0,r.jsxs)(c.ZP,{preset:"body-2",children:["In order to assign a domain to your production deployments, configure it in"," ",(0,r.jsx)(o.r,{as:`/${i}/${u}/settings/domains`,href:"/[teamSlug]/[project]/settings/domains",variant:"highlight",children:"the project settings"})," ",(0,r.jsx)("strong",{className:"jsx-82477dff3d3a1197",children:"(recommended)"}),"."]}),(0,r.jsxs)(c.ZP,{preset:"body-2",children:["If you want to assign to this specific deployment, however, you can do so using our"," ",(0,r.jsx)(o.r,{href:"/cli",tab:!0,variant:"highlight",children:"command-line interface"}),":"]}),(0,r.jsx)(d.Z,{text:"vercel alias <deployment> <domain>",width:"100%"})]}),(0,r.jsx)(a.Actions,{children:(0,r.jsx)(a.Action,{onClick:n,children:"OK"})}),(0,r.jsx)(l(),{id:"82477dff3d3a1197",children:"header.jsx-82477dff3d3a1197{text-align:center}"})]})}},143568:function(e,t,n){"use strict";n.d(t,{I:function(){return j}});var r=n(397458),i=n(425789);n(652983);var l=n(664885),s=n(102560),a=n(815780),o=n(201396),c=n(968193),d=n(752377),u=n(89378),h=n(601438),m=n(481437),x=n(695913),p=n(283834),y=n(415837),g=n(804096),f=n(133914);function j(e){let{deployment:t,isCurrentProductionDeployment:n,redeploy:j,handleClickCreateAlias:b,handleCancelDeployment:k,project:v,openRollbackModal:_,noRollbackCandidates:w}=e,C=(0,c.Rd)(t?.created||0),N=(0,p.T$)(t),D=t?(0,h.S)(t):null,R=t?.meta?.deployHookId||void 0,{can:S,isLoading:Z}=(0,x.ZP)({projectId:v?.id}),E=t?.target!==null?x._z.Deployment:x._z.DeploymentPreview,A=S(x.aU.Update,E),z=S(x.aU.Read,E),I=S(x.aU.Create,x._z.DeploymentRollback),L=S(x.aU.Create,x._z.Deployment),P=L||A||z||I;return(0,r.jsxs)(s.JH,{className:(0,i.Z)({"deployment-entity":Boolean(t)}),"data-testid":(0,u.C)("deployments","deployment-entity",t?.uid??"no-uid"),disabledDotMenuTooltip:P?void 0:(0,r.jsxs)(r.Fragment,{children:["Additional permissions are required to manage Deployment."," ",(0,r.jsx)(o.r,{href:"/docs/concepts/deployments/overview",variant:"highlight",children:"Learn More →"})]}),isDotMenuDisabled:!P,menuButtonProps:{"aria-label":"Deployment Actions","data-testid":(0,u.C)("deployment-entity","dots-menu","button")},menuItems:t?(0,r.jsx)(g.M,{canPromoteToProduction:L,canReadDeployment:z,canRollbackDeployment:I,canUpdateDeployment:A,deployment:t,handleCancelDeployment:()=>k?.(t),handleClickCreateAlias:()=>b?.(t),handleClickRollback(){_&&_(n?void 0:t)},isCurrentProductionDeployment:Boolean(n),itemsOnly:!0,noRollbackCandidates:w,redeploy:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return j?.(...t)}}):null,menuListTestId:`${t?.uid??"no-uid"}-dots-menu`,placeholder:!t||Z,children:[(0,r.jsx)(s.Sn,{"data-testid":(0,u.C)("deployment-entity","target"),description:t?(0,r.jsxs)(r.Fragment,{children:["production"===t.target?"Production":"staging"===t.target?"Staging":"Preview",n?" (Current)":null]}):null,descriptionSkeletonWidth:80,title:t?(0,r.jsx)(o.r,{href:N,title:t.url,children:t.url}):null,titleSkeletonWidth:220}),(0,r.jsx)(s.Sn,{description:(0,r.jsx)("span",{style:{display:"block",height:"20px"},children:(0,r.jsx)(l.Z,{deployment:t,padLeft:!0})}),descriptionSkeletonWidth:146,descriptionWrap:!1,title:t?(0,r.jsx)(m.x,{as:"span",style:{color:"var(--accents-6)",fontWeight:400},weight:500,children:(0,r.jsx)(y.Z,{deployment:t,label:!0,state:t.state,statusTextColor:"accents-5"})}):null,titleSkeletonWidth:146,width:146}),D&&"1"!==D.gitDirty?(0,r.jsx)(s.Sn,{description:(0,r.jsxs)("span",{style:{color:"var(--accents-6)",display:"flex",alignItems:"center",overflow:"visible",height:"20px"},title:D.commitRef,children:[(0,r.jsx)("span",{style:{flex:"0 0 auto"},children:(0,r.jsx)(a.Z,{align:"top",size:16,weight:"bold"})}),"\xa0",(0,r.jsx)("span",{className:"geist-ellipsis",style:{maxWidth:"100%"},children:(0,r.jsx)(o.r,{href:D.refUrl,target:"_blank",children:D.commitRef})}),"\xa0"]}),descriptionSkeletonWidth:100,title:"1"!==D.gitDirty?(0,r.jsx)(m.x,{as:"span",style:{display:"inline",color:"var(--accents-6)"},truncate:!0,weight:500,children:(0,r.jsx)(o.r,{href:D.commitUrl,target:"_blank",title:D.commitMessage,variant:"secondary",children:D.commitMessage})}):null,titleSkeletonWidth:100}):(0,r.jsx)(s.Sn,{descriptionSkeletonWidth:100,title:D?.gitDirty==="1"||t?(0,r.jsx)("div",{style:{height:"40px",display:"flex",alignItems:"center"},children:(0,r.jsxs)(m.x,{as:"span",style:{display:"inline",color:"var(--accents-6)"},truncate:!0,weight:500,children:["via ",d.c5," CLI"]})}):null,titleSkeletonWidth:100}),(0,r.jsx)(s.Sn,{avatar:t?(0,r.jsx)(f.DY,{deployment:t,size:24}):null,description:t?(0,r.jsxs)(r.Fragment,{children:[C,void 0===R&&(D?.commitAuthorLogin?` by ${D.commitAuthorLogin}`:` by ${t?.creator.username}`),void 0!==R&&(0,r.jsx)(r.Fragment,{children:"\xa0via Deploy Hook"})]}):null,descriptionTitle:t?.created?new Date(t.created).toLocaleDateString(void 0,{hour:"numeric",minute:"2-digit",second:"2-digit",year:"numeric",month:"short",day:"numeric",timeZoneName:"short"}):"",right:!0})]})}},133914:function(e,t,n){"use strict";n.d(t,{DY:function(){return v},p0:function(){return w}});var r=n(397458),i=n(465635),l=n.n(i),s=n(652983),a=n(425789),o=n(72227),c=n(14313),d=n(378163),u=n(645617),h=n(683628),m=n(155784),x=n(780356),p=n(577072),y=n(369378),g=n(607113),f=n(524769),j=n(367546),b=n(113778);let k=(e,t)=>{let n=t.map(t=>e.findIndex(e=>e.uid===t.uid));return Math.max(...n)},v=(0,s.memo)(e=>{let{deployment:t,size:n=24}=e;return t?.meta?.deployHookId?(0,r.jsx)(d.Z,{height:n,width:n}):t.meta?.githubDeployment&&t.meta.githubCommitAuthorLogin?(0,r.jsx)(u.Z,{showIcon:!1,size:n,title:t.meta.githubCommitAuthorLogin,username:t.meta.githubCommitAuthorLogin}):t.meta?.gitlabDeployment&&t.meta.gitlabCommitAuthorLogin?(0,r.jsx)(h.Z,{showIcon:!1,size:n,title:t.meta.gitlabCommitAuthorLogin,url:t.meta.gitlabCommitAuthorAvatar}):t.meta?.bitbucketDeployment&&t.meta.bitbucketCommitAuthorName?(0,r.jsx)(m.Z,{showIcon:!1,size:n,title:t.meta.bitbucketCommitAuthorName,url:t.meta.bitbucketCommitAuthorAvatar}):(0,r.jsx)(c.qE,{size:n,title:t.creator?.username,uid:t.creator?.uid})}),_=(0,s.memo)(e=>{let{member:t,selected:n,onClick:i}=e;return(0,r.jsx)("span",{className:(0,a.Z)("avatar-container",{active:n.findIndex(e=>e.uid===t.uid)>-1}),onClick:i,children:(0,r.jsx)(c.qE,{size:32,title:t.username,uid:t.uid})})}),w=(0,s.memo)(e=>{let{members:t,selected:n,setSelectedMembers:i}=e,d=(0,j.ZP)(768),u=d?7:15,[h,m]=(0,s.useState)(""),v=(0,s.useCallback)(e=>{if(t.length>1){let r=n.filter(t=>t.uid!==e.uid);r.length===n.length?i([...n,e]):i(r)}},[n,i,t]),w=t.length-u,C=(0,s.useMemo)(()=>{let e=t.slice(u),i=e.filter(e=>!!(""===h||e.username.indexOf(h)>-1));if(w>0){let s=k(t,n);return(0,r.jsxs)(x.Z,{className:"extra-creators",flex:"0 0 auto",children:[(0,r.jsx)(o.C,{anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},trigger:(0,r.jsx)(x.Z,{center:!0,className:(0,a.Z)("plus",{active:s>=u}),flex:"0 0 auto",children:w>10?"10+":`+${w}`}),children:(0,r.jsxs)(b.Menu,{tipOffset:4,tipSide:"right",width:200,children:[w>5?(0,r.jsx)(x.Z,{style:{padding:"0 8px"},children:(0,r.jsx)(f.Z,{onChange:e=>m(e),placeholder:"Search creators...",value:h})}):(0,r.jsx)(x.Z,{className:"creator-title",children:"Creators"}),(0,r.jsx)(b.Divider,{}),(0,r.jsx)(x.Z,{style:{maxHeight:"210px",overflow:"scroll"},children:i.length>0?i.map((e,t)=>{let i=n.findIndex(t=>t.uid===e.uid)>-1;return(0,r.jsxs)("div",{onClick:()=>v(e),className:"jsx-4037b058e93b69ab creator-row",children:[(0,r.jsx)(g.Z,{checked:i,onChange:()=>v(e)}),(0,r.jsx)(p.L,{inline:!0,x:.5}),(0,r.jsx)(c.qE,{size:24,title:e.username,uid:e.uid}),(0,r.jsx)(p.L,{inline:!0,x:.5}),(0,r.jsx)(y.ZP,{className:"geist-ellipsis",noMargin:!0,preset:"body-2",children:e.username})]},t)}):(0,r.jsx)(x.Z,{center:!0,className:"no-creator",children:"Creator not found"})})]})}),(0,r.jsx)(l(),{id:"4037b058e93b69ab",children:".extra-creators .menu .line{margin-bottom:0}.extra-creators .popover .menu{padding-bottom:0}.plus{background:var(--geist-background);font-size:12px;color:var(--accents-5);border:1px solid var(--accents-2);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:30px;height:30px;-webkit-transition:all.1s ease-out 0s;-moz-transition:all.1s ease-out 0s;-o-transition:all.1s ease-out 0s;transition:all.1s ease-out 0s}.plus:hover{color:var(--geist-foreground);border-color:var(--geist-foreground)}.plus.active{color:var(--geist-foreground);border-color:var(--geist-background);-webkit-box-shadow:var(--shadow-extra-small);-moz-box-shadow:var(--shadow-extra-small);box-shadow:var(--shadow-extra-small)}.creator-title{padding:4px 16px;color:var(--accents-5)}.creator-row{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-webkit-flex:0 0;-moz-box-flex:0;-ms-flex:0 0;flex:0 0;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:8px 16px;color:var(--accents-5);cursor:pointer;-webkit-transition:color.1s ease,background-color.1s ease;-moz-transition:color.1s ease,background-color.1s ease;-o-transition:color.1s ease,background-color.1s ease;transition:color.1s ease,background-color.1s ease}.creator-row:hover{background:var(--accents-1);color:var(--geist-foreground)}.no-creator{padding:8px;color:var(--accents-5)}"})]})}},[t,n,w,h,m,u,v]);return(0,r.jsxs)(x.Z,{className:(0,a.Z)("avatars",{selected:Object.keys(n).length>0,disabled:Object.keys(t).length<2}),flex:"0 0 auto",row:!0,children:[t.slice(0,u).map((e,t)=>(0,r.jsx)(_,{member:e,onClick:()=>v(e),selected:n},t)),C,(0,r.jsx)(l(),{id:"de5cd593f1b2e48e",children:".avatars.jsx-de5cd593f1b2e48e{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-webkit-flex-flow:row-reverse;-moz-box-orient:horizontal;-moz-box-direction:reverse;-ms-flex-flow:row-reverse;flex-flow:row-reverse;cursor:pointer}.avatar-container{cursor:pointer;position:relative;width:32px;height:32px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-transition:-webkit-transform.1s ease-out 0s;-moz-transition:-moz-transform.1s ease-out 0s;-o-transition:-o-transform.1s ease-out 0s;transition:-webkit-transform.1s ease-out 0s;transition:-moz-transform.1s ease-out 0s;transition:-o-transform.1s ease-out 0s;transition:transform.1s ease-out 0s;will-change:transform,z-index}.avatar-container:not(:last-child){margin-right:-8px}.selected .avatar-container img{opacity:.5}.avatars:not(.disabled) .avatar-container:hover{z-index:9;-webkit-transform:translate3d(0,-4px,0);-moz-transform:translate3d(0,-4px,0);transform:translate3d(0,-4px,0);opacity:1}.avatar-container:hover img{opacity:1}.avatar-container.active{opacity:1;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;-webkit-box-shadow:var(--shadow-extra-small);-moz-box-shadow:var(--shadow-extra-small);box-shadow:var(--shadow-extra-small)}.avatar-container.active img{opacity:1}.avatars .active .avatar{border:1px solid white}.avatars.jsx-de5cd593f1b2e48e:hover>*:not(.active :hover){opacity:.5}"})]})})},804096:function(e,t,n){"use strict";n.d(t,{M:function(){return b}});var r=n(397458);n(652983);var i=n(670868),l=n.n(i),s=n(209671),a=n(731596),o=n(867370),c=n(201396),d=n(37963),u=n(283834),h=n(524205),m=n(89378),x=n(481437),p=n(113745),y=n(97146),g=n(783277),f=n(589383),j=n(129319);function b(e){let t,{deployment:n,redeploy:i,handleClickCreateAlias:b,itemsOnly:k,handleCancelDeployment:v,isCurrentProductionDeployment:_,canPromoteToProduction:w,canUpdateDeployment:C,canReadDeployment:N,canRollbackDeployment:D,isRollbackMenu:R,handleClickRollback:S,noRollbackCandidates:Z}=e,E=(0,d.e1)(),A=(0,u.T$)(n),{flags:z}=(0,g.a)(),{isReady:I,value:L}=(0,j.KH)(),P=z?.["instant-rollback"]||I&&L,B=()=>{l()(n.url),E.message("Copied to clipboard!")},O=()=>i(n,!0),U=()=>i(n),M=v&&"state"in n&&("QUEUED"===n.state||"BUILDING"===n.state),F="state"in n&&"READY"===n.state;Z?t="There are no previous deployments to roll back to.":_?t="This Deployment is already in Production.":n.isRollbackCandidate||(t="Only Deployments previously aliased to a Production domain can be rolled back.");let T=Z||!R&&(_||!n.isRollbackCandidate),$=T?(0,r.jsx)(f.Z,{text:t,children:(0,r.jsx)(o.sN,{"data-testid":(0,m.C)("deployment-entity","dots-menu","instant-rollback"),disabled:!0,onClick:S,children:(0,r.jsxs)(p.Z,{align:"center",direction:"row",gap:2,children:[(0,r.jsx)(x.x,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:"Instant Rollback"}),(0,r.jsx)(y.AlertCircle,{color:"var(--accents-3)",size:16}),(0,r.jsx)(s.Ct,{size:"sm",variant:"pink",children:"Beta"})]})})}):(0,r.jsx)(o.sN,{"data-testid":(0,m.C)("deployment-entity","dots-menu","instant-rollback"),onClick:S,title:t,children:(0,r.jsxs)(p.Z,{align:"center",direction:"row",gap:2,children:[(0,r.jsx)(x.x,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:"Instant Rollback"}),(0,r.jsx)(y.RotateCcw,{size:16}),(0,r.jsx)(s.Ct,{size:"sm",variant:"pink",children:"Beta"})]})}),q=R&&P&&D?(0,r.jsxs)(r.Fragment,{children:[$,(0,r.jsx)(o.R,{})]}):(0,r.jsxs)(r.Fragment,{children:[D&&P?$:null,w?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.sN,{onClick:O,children:"Promote to Production"}),(0,r.jsx)(o.R,{})]}):null]}),W=(0,r.jsxs)(r.Fragment,{children:[w||D?q:null,C&&!R?(0,r.jsx)(o.sN,{onClick:U,children:"Redeploy"}):null,N?(0,r.jsx)(o.sN,{Component:c.r,href:A,isLink:!0,children:"Inspect Deployment"}):null,N&&!R?(0,r.jsx)(o.sN,{Component:c.r,href:`${A}/source`,isLink:!0,children:"View Source"}):null,N?(0,r.jsx)(o.sN,{onClick:B,children:"Copy URL"}):null,F&&C?(0,r.jsx)(o.sN,{onClick:b,children:"Assign Domain"}):null,M&&C?(0,r.jsx)(o.sN,{onClick:"state"in n?()=>v?.(n):void 0,type:"error",children:"Cancel Deployment"}):null,N?(0,r.jsxs)(o.sN,{Component:c.r,disabled:!n,href:`https://${n.url}`,isLink:!0,target:"_blank",children:["Visit \xa0 ",(0,r.jsx)(h.Z,{align:"top",size:16})]}):null,!(w&&C&&N&&D)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.R,{}),!D&&P?(0,r.jsx)(o.dc,{children:"Instant Rollback"}):null,w?null:(0,r.jsx)(o.dc,{children:"Promote to Production"}),C?null:(0,r.jsx)(o.dc,{children:"Redeploy"}),N?null:(0,r.jsx)(o.dc,{children:"Inspect Deployment"}),N?null:(0,r.jsx)(o.dc,{children:"View Source"}),N?null:(0,r.jsx)(o.dc,{children:"Copy URL"}),F&&!C?(0,r.jsx)(o.dc,{children:"Assign Domain"}):null,M&&!C?(0,r.jsx)(o.dc,{children:"Cancel Deployment"}):null,N?null:(0,r.jsxs)(o.dc,{children:["Visit \xa0 ",(0,r.jsx)(h.Z,{align:"top",size:16})]})]})]});return k?W:(0,r.jsx)(a.DotsMenu,{closeOnSelect:R,children:W})}},780974:function(e,t,n){"use strict";n.d(t,{U:function(){return Q}});var r=n(397458),i=n(652983),l=n(209671),s=n(37963),a=n(50134),o=n(89378),c=n(481437),d=n(924e3),u=n(573757),h=n(97146),m=n(434158),x=n(667061),p=n(639381),y=n(277652),g=n.n(y);function f(e){let{className:t,label:n,labelPadding:i=7,labelSize:l=14,size:s=22,status:a}=e,o=(0,x.Z)(s);return(0,r.jsxs)("div",{className:`${g().wrapper} ${t||""}`,style:{height:o},children:["loading"===a&&(0,r.jsx)(p.Z,{size:s}),"error"===a&&(0,r.jsx)(h.XCircle,{color:"var(--geist-error)",fill:!0,size:s}),"success"===a&&(0,r.jsx)(h.CheckInCircle,{color:"var(--geist-success)",fill:!0,size:s}),n?(0,r.jsx)(c.x,{as:"span",size:l,style:{lineHeight:o,paddingLeft:(0,x.Z)(i)},children:n}):null]})}var j=n(498828),b=n(191425),k=n(241663),v=n(202764),_=n(476795),w=n(672411),C=n(401778),N=n(635244),D=n(113745),R=n(685108),S=n(470596),Z=n.n(S),E=n(201396),A=n(283834),z=n(601438),I=n(968193),L=n(664885),P=n(133914),B=n(635089),O=n.n(B);function U(e){let{isForm:t,children:n,className:i}=e;return t?(0,r.jsx)("label",{className:i,children:n}):(0,r.jsx)("div",{className:i,children:n})}function M(e){let{deployment:t,isForm:n,isPreviousDeployment:i,isProductionDeployment:l,selectedDeployment:s,setSelectedDeployment:a}=e,o=(0,I.Rd)(t.createdAt||0),d=(0,A.T$)(t),u=(0,z.S)(t),m="Preview";if("target"in t)switch(t.target){case"staging":m="Staging";break;case"production":m="Production";break;default:m="Preview"}else m="Production";let x="uid"in t?t.uid:t.id,p="";return"target"in t&&(p=(0,L.E)(t)||"&mdash;"),(0,r.jsxs)(U,{className:`${O().card} ${l?O().current:""}`,isForm:n,children:[n?(0,r.jsx)("input",{"aria-label":"Rollback Deployment",checked:s?.uid===x,className:O().input,name:"rollbackDeployment",onChange(){"uid"in t&&"type"in t&&a(t)},type:"radio",value:x}):null,!n&&l?(0,r.jsx)(h.XCircle,{className:O().icon,fill:!0,size:16,style:{flexShrink:0}}):null,!n&&!l&&(0,r.jsx)(h.RotateCcw,{className:O().icon,color:"var(--geist-success)",size:16,style:{flexShrink:0}}),(0,r.jsxs)("div",{children:[(0,r.jsx)(E.r,{className:O().deploymentLink,href:d,target:"_blank",children:(0,r.jsx)(c.x,{as:"span",title:t.url,truncate:1,weight:700,children:t.url})}),u?.commitMessage?(0,r.jsx)(c.x,{as:"p",color:"accents-5",size:14,title:u.commitMessage,truncate:1,weight:500,children:u.commitMessage}):null,(0,r.jsxs)("div",{className:O().branch,children:[(0,r.jsxs)(c.x,{as:"span",color:"accents-5",size:14,style:{marginRight:"4px"},children:[m," "]}),u?.commitRef?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.GitBranch,{color:"accents-5",size:16}),(0,r.jsx)(c.x,{as:"span",className:O().code,title:u.commitRef,children:u.commitRef}),(0,r.jsx)(c.x,{as:"span",color:"accents-5",children:"by"}),(0,r.jsxs)("div",{className:O().gitAvatar,children:[(0,r.jsx)(c.x,{as:"span",color:"accents-5",children:u.commitAuthorLogin?u.commitAuthorLogin:t.creator?.username}),(0,r.jsx)(P.DY,{deployment:t,size:16})]})]}):null]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(c.x,{as:"span",color:"accents-5",size:14,children:["Deployed"," "]}),(0,r.jsx)(c.x,{as:"span",color:"accents-5",size:14,weight:500,children:o}),(0,r.jsxs)(c.x,{as:"span",color:"accents-5",size:14,children:[","," "]}),"target"in t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c.x,{as:"span",color:"accents-5",size:14,children:["live for"," "]}),(0,r.jsx)(c.x,{as:"span",color:"accents-5",size:14,weight:600,children:p})]}):(0,r.jsx)(c.x,{as:"span",color:"accents-5",size:14,weight:600,children:"Currently Live"})]})]}),l?(0,r.jsx)(c.x,{as:"div",className:O()["badge-current"],children:"Current"}):null,i?(0,r.jsx)(c.x,{as:"div",className:O()["badge-previous"],children:"Previous"}):null]})}var F=n(488800),T=n(860252),$=n.n(T);function q(e){let{setStage:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Body,{children:(0,r.jsx)(c.x,{as:"p",style:{marginBottom:"24px"},children:"Error: You must select a deployment to roll back."})}),(0,r.jsx)(a.Actions,{children:(0,r.jsx)(a.Action,{onClick(){t("initial")},children:"Back"})})]})}function W(){return(0,r.jsx)("div",{style:{marginBottom:"24px"},children:(0,r.jsx)(R.Z,{className:Z()["warning-note"],fill:!0,label:!1,type:"warning",variant:"contrast",children:(0,r.jsxs)(D.Z,{align:"center",direction:"row",gap:4,style:{padding:4},children:[(0,r.jsx)(h.AlertTriangle,{fill:!0,size:"16",style:{flexShrink:0}}),(0,r.jsxs)(D.Z,{align:"start",children:[(0,r.jsx)(c.x,{as:"p",color:"inherit",children:"Make sure the domains listed above are correct."}),(0,r.jsx)(c.x,{as:"p",color:"inherit",children:"This deployment has custom aliases not included in the project's domain settings."})]})]})})})}function V(e){let{deployments:t,previousDeployment:n,productionDeployment:i,selectedDeployment:l,setSelectedDeployment:s,swr:a}=e;return(0,r.jsxs)(r.Fragment,{children:[t.map(e=>i.id!==e.uid&&(0,r.jsx)(M,{deployment:e,isForm:!0,isPreviousDeployment:n.uid===e.uid,selectedDeployment:l,setSelectedDeployment:s},e.uid)),!a.isReachingEnd&&(0,r.jsx)(d.z,{className:$()["choose-deployment-btn"],loading:a.isLoadingMore,onClick(){a.loadMore()},variant:"ghost",children:"Show More"})]})}function Y(e){let{hasFloatingAliases:t,onCancel:n,previousDeployment:l,productionAliases:s,productionDeployment:u,rollbackCandidates:h,setStage:m,selectedDeployment:x,setSelectedDeployment:p,deploymentSwr:y}=e,[g,f]=(0,i.useState)(!1);return h.length&&l&&x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.Body,{children:[(0,r.jsxs)(c.x,{as:"p",style:{marginBottom:"24px"},children:["Roll back"," ",(0,r.jsx)(F.Z,{domains:s,firstOnly:!0,style:{display:"inline-flex",fontWeight:"bold"}})]}),t?(0,r.jsx)(W,{}):null,(0,r.jsx)(M,{deployment:u,isProductionDeployment:!0,selectedDeployment:x,setSelectedDeployment:p}),(0,r.jsx)(c.x,{as:"p",style:{marginBottom:"24px",marginTop:"24px"},children:"To the following deployment:"}),g?(0,r.jsx)(V,{deployments:h,previousDeployment:l,productionDeployment:u,selectedDeployment:x,setSelectedDeployment:p,swr:y}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(M,{deployment:x,isForm:g,isPreviousDeployment:x.uid===l.uid,selectedDeployment:x,setSelectedDeployment:p}),(0,r.jsx)(d.z,{className:$()["choose-deployment-btn"],onClick(){f(!0)},variant:"ghost",children:"Choose another deployment"})]})]}),(0,r.jsxs)(a.Actions,{children:[(0,r.jsx)(a.Action,{onClick:n,children:"Cancel"}),(0,r.jsx)(a.Action,{"data-testid":(0,o.C)("deployment","rollback-modal","continue-button"),onClick(){m("selected")},children:"Continue"})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Body,{children:(0,r.jsx)(c.x,{as:"p",children:"This project does not have any valid deployments to roll back to."})}),(0,r.jsx)(a.Actions,{children:(0,r.jsx)(a.Action,{onClick:n,children:"Cancel"})})]})}function H(e){let{hasFloatingAliases:t,productionAliases:n,productionDeployment:i,productionBranch:l,rollbackCandidates:s,selectedDeployment:d,setSelectedDeployment:x,setStage:p,requestRollback:y}=e;if(!d)return(0,r.jsx)(q,{setStage:p});let g=l?`This rollback will be replaced by the next merge to ${l}.`:"This rollback will be replaced by the next production deployment.";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Body,{children:(0,r.jsxs)(D.Z,{gap:6,children:[(0,r.jsxs)(c.x,{as:"p",children:["Roll back"," ",(0,r.jsx)(F.Z,{domains:n,style:{display:"inline-flex",fontWeight:"bold"}})]}),t?(0,r.jsx)(W,{}):null,(0,r.jsx)(M,{deployment:i,isProductionDeployment:!0,selectedDeployment:d,setSelectedDeployment:x}),(0,r.jsx)(c.x,{as:"p",children:"To the following deployment:"}),(0,r.jsx)(M,{deployment:d,isPreviousDeployment:d.uid===s[0].uid,selectedDeployment:d,setSelectedDeployment:x}),(0,r.jsxs)(u.UL,{className:$()["warning-list"],children:[(0,r.jsx)(u.LI,{children:"Instant Rollback assigns domains to a previous deployment. All Environment Variables from the original build will remain."}),(0,r.jsxs)(u.LI,{children:[(0,r.jsxs)(m.r,{className:$()["deployment-link"],href:`https://${d.url}`,target:"_blank",children:["View selected deployment"," ",(0,r.jsx)(h.ExternalLink,{color:"geist-success",size:14,style:{flexShrink:0}})]})," ","before rolling back—external APIs, databases, and CMS platforms may not behave as expected."]})]}),(0,r.jsx)(R.Z,{className:Z()["warning-note"],fill:!0,label:!1,type:"warning",variant:"contrast",children:(0,r.jsxs)(D.Z,{align:"center",direction:"row",gap:4,style:{padding:1},children:[(0,r.jsx)(h.AlertTriangle,{fill:!0,size:"16",style:{flexShrink:0}}),(0,r.jsxs)(D.Z,{align:"start",children:[(0,r.jsx)(c.x,{as:"p",color:"inherit",children:g}),(0,r.jsxs)(m.r,{className:Z()["warning-note-link"],href:"https://vercel.com/docs/concepts/deployments/instant-rollback",target:"_blank",children:[(0,r.jsx)(c.x,{as:"span",color:"inherit",weight:600,children:"Learn more about Instant Rollback"}),(0,r.jsx)(h.ExternalLink,{size:14,style:{flexShrink:0}})]})]})]})})]})}),(0,r.jsxs)(a.Actions,{children:[(0,r.jsx)(a.Action,{onClick(){p("initial")},children:"Back"}),(0,r.jsx)(a.Action,{"data-testid":(0,o.C)("deployment","rollback-modal","rollback-button"),onClick(){y(d.uid),p("processing")},children:"Confirm Rollback"})]})]})}function G(e){let{jobStatus:t,rollbackDeploymentId:n,rollbackCandidates:l,selectedDeployment:s,setStage:h,onCancel:m,statusSwr:x,requestRollback:p}=e;return((0,i.useEffect)(()=>{n===s?.uid&&("failed"===t?h("error"):"succeeded"===t&&h("done"))},[n,t,s,h]),s)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.Body,{children:[(0,r.jsxs)(c.x,{as:"p",style:{marginBottom:"24px"},children:["Assigning ",(0,r.jsx)("strong",{children:"Production"})," Domains:"]}),(0,r.jsx)(M,{deployment:s,isPreviousDeployment:s.uid===l[0].uid,selectedDeployment:s,setSelectedDeployment:()=>null}),(0,r.jsxs)(u.UL,{className:$()["alias-list"],children:[x.aliases.map(e=>{let t="loading";return"completed"===e.status?t="success":"failed"===e.status&&(t="error"),(0,r.jsx)(u.LI,{children:(0,r.jsx)(f,{label:e.alias,labelPadding:"18px",status:t})},e.alias)}),!x.isReachingEnd&&x.initialDataLoaded?(0,r.jsx)(u.LI,{children:(0,r.jsx)(d.z,{className:$()["choose-deployment-btn"],loading:x.isLoadingMore,onClick(){x.loadMore()},variant:"ghost",children:"Show More"})}):null]})]}),(0,r.jsx)(a.Actions,{children:(0,r.jsx)(a.Action,{"data-testid":(0,o.C)("deployment","rollback-modal","finish-button"),loading:"failed"!==t&&"succeeded"!==t,onClick(){"failed"===t?p(s.uid):"succeeded"===t&&(h("initial"),m())},children:"failed"===t?"Retry":"Done"})})]}):(0,r.jsx)(q,{setStage:h})}function Q(e){let{active:t,initialSelectedDeployment:n,onCancel:d,productionBranch:u,productionDeployment:h,projectId:m,rollbackCandidates:x,swr:p}=e,[y,g]=(0,i.useState)("initial"),{isReady:f,team:R}=(0,_.t7)(),S=(0,s.e1)(),Z=(0,i.useMemo)(()=>{if(x.length)return x[0].uid!==h.id?x[0]:x[1]},[x,h]),[E,A]=(0,i.useState)(null);(0,i.useEffect)(()=>{A(n||Z||null)},[n,Z]);let z=(0,i.useCallback)(g,[g]),I=(0,i.useCallback)(A,[A]),[,{aliases:L}]=(0,C.k)({rollbackDeploymentId:h.id}),{data:P}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,{isReady:n,team:r}=(0,_.t7)();return(0,j.ZP)(()=>n?`${(0,k.Z8)(e)}${(0,v.c)({teamId:r?.id,rollbackInfo:!0})}`:null,e=>(0,b.I)(e,{throwOnHTTPError:!0}),{refreshInterval:t})}(m,500),{lastRollbackTarget:B,hasFloatingAliases:O}=P||{lastRollbackTarget:null,hasFloatingAliases:!1},{toDeploymentId:U,jobStatus:M}=B||{toDeploymentId:null,jobStatus:null},[,F]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,{isReady:r,team:l}=(0,_.t7)(),s=(0,w.ZP)((t,i)=>{if(!r)return null;let s={teamId:l?.id,limit:n};return t?i?.next?`${(0,k.Ew)(e)}${(0,v.c)({...s,until:i.next})}`:null:`${(0,k.Ew)(e)}${(0,v.c)(s)}`},e=>(0,b.I)(e,{throwOnHTTPError:!0}),{refreshInterval:t}),a=(0,i.useMemo)(()=>s.data?[].concat(...s.data.filter(Boolean).map(e=>e.aliases.slice(0,n))):[],[s.data,n]),o=Boolean(s.data),c=o&&0===a.length,d=o&&s.data&&s.size>s.data.length,u=o&&s.data&&s.data[s.data.length-1]?.aliases.length<n,h=()=>s.setSize(e=>e+1);return[s,{aliases:a,initialDataLoaded:o,isEmpty:c,loadMore:h,isLoadingMore:d,isReachingEnd:u,mutate:s.mutate}]}(m,2e3),T=(0,i.useMemo)(()=>h,[t]),q=()=>{g("initial"),A(n||Z||null),d()},W=(0,i.useCallback)(async e=>{if(!f)return;let t=`${(0,k.ix)(m,e)}${(0,v.c)({teamId:R?.id})}`;try{await (0,b.I)(t,{throwOnHTTPError:!0,method:"POST",body:{}})}catch(n){S.error({text:"Something went wrong - please try requesting an Instant Rollback again",key:"rollback-deployment"}),(0,N.captureError)(n)}},[f,m,R?.id,S]),V={rollbackDeploymentId:U,hasFloatingAliases:Boolean(O),jobStatus:M,onCancel:q,previousDeployment:Z,productionBranch:u,productionDeployment:T,productionAliases:L.map(e=>{let{alias:t}=e;return t}),projectId:m,rollbackCandidates:x,setStage:z,selectedDeployment:E,setSelectedDeployment:I,deploymentSwr:p,statusSwr:F,requestRollback:W};return(0,r.jsx)(a.Modal,{active:t,"data-testid":(0,o.C)("deployment","rollback-modal"),onClickOutside:q,style:{maxHeight:"750px"},width:"500px",children:(0,r.jsxs)("div",{className:$()["rollback-modal"],children:[(0,r.jsx)(a.Header,{children:(0,r.jsxs)(D.Z,{align:"center",direction:"row",gap:2,justify:"center",children:[(0,r.jsx)(c.x,{as:"h3",lineHeight:24,size:24,transform:"capitalize",weight:600,children:"Instant Rollback"}),(0,r.jsx)(l.Ct,{variant:"pink",children:"Beta"})]})}),"initial"===y&&(0,r.jsx)(Y,{...V}),"selected"===y&&(0,r.jsx)(H,{...V}),["processing","error","done"].includes(y)&&(0,r.jsx)(G,{...V})]})})}},839453:function(e,t,n){"use strict";n.d(t,{a:function(){return h}});var r=n(397458),i=n(727327),l=n(442214),s=n(780356),a=n(959196),o=n(369378),c=n(89378),d=n(208557),u=n.n(d);function h(e){let{scope:t,project:n,hasProjectLink:d,style:h}=e;return(0,r.jsx)(l.Z,{className:u().defaultHeight,style:h,children:(0,r.jsxs)(s.Z,{center:!0,className:u().container,hcenter:!0,children:[(0,r.jsx)("div",{className:u().icon,children:(0,r.jsx)(a.Z,{})}),(0,r.jsx)(o.ZP,{className:u().title,"data-testid":(0,c.C)("no-deployment-card","title"),h3:!0,noMargin:!0,children:"No Production Deployment"}),(0,r.jsx)(s.Z,{className:u().subtitleContainer,flex:0,children:(0,r.jsx)(o.ZP,{noMargin:!0,preset:"body-2",children:d?(0,r.jsxs)(r.Fragment,{children:["To update your Production Deployment, push to the"," ",n?.link?.productionBranch?`"${n.link.productionBranch}"`:"Repository Default"," ","branch."]}):"Connect your Project with a Git repository to create a Production Deployment."})}),(0,r.jsx)(s.Z,{center:!0,direction:["column","column","row"],flex:0,style:{color:"var(--accents-5)",fontSize:"12px"},children:d?(0,r.jsx)(i.Z,{external:!0,href:"/docs/git#production-branch",children:"Learn More"}):(0,r.jsx)(i.Z,{as:`/${t}/${n?.name}/settings/git`,disabled:!n,href:"/[teamSlug]/[project]/settings/git",children:"Connect Git repository"})})]})})}},928:function(e,t,n){"use strict";var r=n(397458),i=n(577389),l=n(685108),s=n(955913),a=n(168112);let o=()=>{let e=(0,i.useRouter)(),{data:t}=(0,s.PY)(e.query.project),n=(0,a.F)(t);return t?.name&&n?(0,r.jsxs)(l.Z,{fill:!0,label:!1,type:"warning",variant:"contrast",children:["The Project ",(0,r.jsx)("b",{children:t.name})," is being transferred into"," ",(0,r.jsx)("b",{children:n.name}),"."]}):(0,r.jsx)(l.Z,{fill:!0,label:!1,type:"warning",variant:"contrast",children:"\xa0"})};t.Z=o},130087:function(e,t,n){"use strict";var r=n(397458),i=n(577389),l=n(369378),s=n(780356),a=n(639381),o=n(14313),c=n(442214),d=n(577072),u=n(955913),h=n(168112),m=n(327726),x=n.n(m),p=n(617268);let y=()=>{let e=(0,i.useRouter)(),{data:t}=(0,u.PY)(e.query.project),{transferredFromAccountId:n}=t||{},m=(0,h.F)(t),y=n?.startsWith("team_");return t&&m?(0,r.jsx)(c.Z,{children:(0,r.jsx)("div",{className:x().wrapper,children:(0,r.jsxs)(s.Z,{center:!0,children:[(0,r.jsx)(l.ZP,{h3:!0,noMargin:!0,style:{maxWidth:"360px",marginBottom:"16px"},children:"Transferring Project"}),(0,r.jsxs)(s.Z,{center:!0,row:!0,children:[(0,r.jsx)(o.qE,{placeholder:!n,size:48,teamId:y?n:void 0,uid:y?void 0:n}),(0,r.jsx)(d.L,{inline:!0,x:.25}),p.Q,(0,r.jsx)(d.L,{inline:!0,x:.25}),(0,r.jsx)(o.qE,{hash:m?.avatar,placeholder:!m,size:48,teamId:m.id})]}),(0,r.jsx)(d.L,{}),(0,r.jsx)(a.Z,{}),(0,r.jsx)(d.L,{}),(0,r.jsxs)(l.ZP,{center:!0,className:x().message,noMargin:!0,type:"secondary",children:["The Project ",(0,r.jsx)("b",{children:t.name})," is being transferred into"," ",(0,r.jsx)("b",{children:m.name}),"."]})]})})}):null};t.Z=y},623664:function(e,t,n){"use strict";n.d(t,{n:function(){return j}});var r=n(397458),i=n(651938),l=n(652983),s=n(737727),a=n(633361),o=n(530996),c=n(530006),d=n(190343),u=n(466133),h=n(498828),m=n(241663),x=n(191425),p=n(202764),y=n(955913),g=n(476795);let f=e=>+e==+e,j=(0,l.memo)(e=>{let{skeleton:t,onSelect:n,project:j,value:b,includeProductionBranch:k}=e,[v,_]=(0,l.useState)(!1),[w,C]=(0,l.useState)(!1),[N,D,{currentValue:R,setValueImmediate:S}]=(0,d.$)(b||"",300);(0,l.useEffect)(()=>{b&&S(b)},[S,b]);let{data:Z,isValidating:E,fetchedQuery:A}=function(e){let{includeProductionBranch:t,query:n,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:i,team:s}=(0,g.t7)(),{data:a}=(0,y.PY)(e),[o,c]=(0,l.useState)(""),d=n&&f(n)?`"${n}"`:n,{data:u,isValidating:j,error:b}=(0,h.ZP)(`${m.AI}/${e}/branches${(0,p.c)({search:d,teamId:s?.id})}`,t=>e&&i?(0,x.I)(t,{throwOnHTTPError:!0}).then(e=>({...e,query:n})):null,r);if((0,l.useLayoutEffect)(()=>{u?.query&&c(u.query)},[u?.query,c]),u?.branches){let k=(()=>{let e=[];for(let n of u.branches){if(n===a?.link?.productionBranch){t&&e.unshift(n);continue}e.push(n)}return e})();return{isValidating:j,error:b,fetchedQuery:o,data:k}}return{isValidating:j,error:b,fetchedQuery:o,data:u?.branches??null}}(j?.id||"",{includeProductionBranch:k,query:N,revalidateOnFocus:!1,revalidateIfStale:!1,revalidateOnReconnect:!1}),z=!!w&&!!v&&!!R&&(A||"")!==N,{filterBranch:I}=(0,o.i)();(0,l.useEffect)(()=>{I&&S(I)},[S,I]),(0,l.useEffect)(()=>{S(b||"")},[S,b]),(0,l.useEffect)(()=>{v||!Z||E||_(!0)},[v,Z,E]);let[L,P]=(0,l.useState)([]);(0,l.useEffect)(()=>{E||null===Z||(0!==B.current.query.indexOf(R)&&(B.current={values:[],query:R}),P(Z||[]))},[JSON.stringify(Z),A]);let B=(0,l.useRef)({values:[],query:""}),O=E||R.length>=N.length&&R.length>=1,U=O?B.current.values:[],M=[...new Set([...U,...z?L:Z||[]])],F=(0,l.useRef)(null);return(0,u.Z)(()=>{R&&F.current?.setValue(R)},[R]),(0,u.Z)(()=>{b||F.current?.clear()},[b]),(0,r.jsx)(a.O,{show:Boolean(t&&!v),children:(0,r.jsxs)(s.Z,{filter:function(e,t){let n=""===t?e:(0,i.Lu)(e,t,{keys:["value","label"]}),r=[];for(let l of U)n.find(e=>e.value===l)&&r.push(l);let s=[...new Set([...r,...n.map(e=>e.value)])],a=s.map(e=>{let t=n.find(t=>t.value===e);if(!t)throw Error("impossible state");return t});return B.current={values:s,query:R},a},onChange(e){e===I?setTimeout(()=>{n?.(null),F.current?.clear(),S("")}):(c.c.track(c.s.DEPLOYMENT_OVERVIEW_FILTERS_BRANCH,{value:e}),S(e||""),n?.(e))},onChangeOpen(e){C(e)},placeholder:"All Branches...",ref:F,children:[(0,r.jsx)(s.Z.Input,{loading:z,onChange(e){""===e.target.value?S(""):D(e.target.value)}}),(0,r.jsx)(s.Z.List,{children:M.map((e,t)=>(0,r.jsx)(s.Z.Option,{value:e,children:e},R?e:`${e}${t}`))})]})})})},73683:function(e,t,n){"use strict";n.d(t,{V:function(){return v}});var r=n(397458),i=n(670868),l=n.n(i),s=n(652983),a=n(716652),o=n(102560),c=n(654817),d=n(815780),u=n(780356),h=n(201396),m=n(867370),x=n(633361),p=n(577072),y=n(37963),g=n(601438),f=n(646952);let j=(e,t)=>{let n=(0,s.useRef)(0);return t||(n.current=Math.random()),(0,s.useMemo)(()=>e(),[n.current])};var b=n(211109),k=n.n(b);let v=(0,s.memo)(e=>{let{project:t,branch:n,deployments:i,onClearBranch:s,isLoading:b}=e,v=i?.find(e=>"READY"===e.state),_=(0,y.e1)(),{data:w,isValidating:C}=(0,f.ZP)(v?.uid,{revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateOnMount:!0}),N=(0,g.S)(v),D=t?.link?.type||"github",R=N?.prUrl??N?.refUrl??N?.commitUrl??"",S=b||C,Z=w?.alias[0]??w?.url,E=j(()=>(0,r.jsxs)(o.JH,{filled:!0,placeholder:S,thumbnail:(0,r.jsx)(o.bL,{circular:!0,size:30,children:(0,r.jsx)(d.Z,{color:"var(--geist-success)",size:16})}),...!!R&&!S&&{menuItems:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(m.sN,{onClick(){l()(R),_&&_.current&&_.current.message("Copied url to clipboard!")},children:["Copy ",N?.prUrl?"PR":"Branch"," URL ",(0,r.jsx)(p.L,{})," ",(0,r.jsx)(c.Z,{size:14})]}),!!s&&(0,r.jsx)(m.sN,{onClick:s,type:"error",children:"Clear filter"})]})},children:[(0,r.jsx)(o.Sn,{description:(0,r.jsxs)(r.Fragment,{children:["Branch URL for\xa0\xa0",R?(0,r.jsx)(h.r,{className:k().entitySpan,href:R,children:n}):(0,r.jsx)("span",{className:k().entitySpan,children:n})]}),title:Z?(0,r.jsx)(h.r,{className:k().inline,external:!0,href:`https://${Z}`,variant:"highlight",children:Z}):(0,r.jsx)("div",{className:k().entityMarginBottom,children:"No successful deploy, yet."})}),(0,r.jsx)(o.Sn,{className:k().maxWidthFitContent,right:!0,children:(0,r.jsx)(u.Z,{center:!0,row:!0,children:S?(0,r.jsxs)(u.Z,{center:!0,className:k().skeletonContainer,children:[(0,r.jsx)(x.O,{show:!0,children:(0,r.jsx)(a.Z,{href:"",children:"View PR"})}),(0,r.jsx)(x.O,{style:{width:26,height:18}})]}):(0,r.jsxs)(r.Fragment,{children:[!!N?.prUrl&&(0,r.jsx)(a.Z,{href:N?.prUrl,tab:!0,type:"secondary",children:"github"===D?"View PR":"View Changes"}),!N?.prUrl&&!!N?.refUrl&&(0,r.jsx)(a.Z,{href:N?.refUrl,tab:!0,type:"secondary",children:"View Branch"})]})})})]}),S);return S||n?E:null})},671309:function(e,t,n){"use strict";n.d(t,{Lj:function(){return b},ZP:function(){return _},zK:function(){return f}});var r=n(397458),i=n(652983),l=n(425789),s=n(209671),a=n(577389),o=n(867370),c=n(481437),d=n(633361),u=n(530006),h=n(632258),m=n.n(h);let x={READY:{label:"Ready",className:m().ready,key:"ready"},ERROR:{label:"Error",className:m().error,key:"error"},BUILDING:{label:"Building",className:m().building,key:"building"},QUEUED:{label:"Queued",className:m().queued,key:"queued"},CANCELED:{label:"Canceled",className:m().canceled,key:"canceled"}},p=["ready","error","building","queued"],y="empty";function g(e){let{status:t,...n}=e;return(0,r.jsx)("span",{className:(0,l.Z)(m().status,t),...n})}function f(e){let t=Object.keys(e).filter(t=>e[t]).map(e=>e.toUpperCase());return 0===t.length?y:t.join(",")}let j={[x.READY.key]:!0,[x.ERROR.key]:!0,[x.BUILDING.key]:!0,[x.QUEUED.key]:!0,[x.CANCELED.key]:!1};function b(){let e=(0,a.useRouter)(),[t,n]=(0,i.useState)(!0),[r,l]=(0,i.useState)(j),s=e=>{l(t=>{let n={...t,[e]:!t[e]};return u.c.track(u.s.DEPLOYMENT_OVERVIEW_FILTERS_STATUS,{status:JSON.stringify(n)}),n})};return(0,i.useEffect)(()=>{if(t&&e.isReady){var r;l((r=e.query.status)?r===y?{[x.READY.key]:!1,[x.ERROR.key]:!1,[x.BUILDING.key]:!1,[x.QUEUED.key]:!1,[x.CANCELED.key]:!1}:{[x.READY.key]:r.includes(x.READY.key),[x.ERROR.key]:r.includes(x.ERROR.key),[x.BUILDING.key]:r.includes(x.BUILDING.key),[x.QUEUED.key]:r.includes(x.QUEUED.key),[x.CANCELED.key]:r.includes(x.CANCELED.key)}:{[x.READY.key]:!0,[x.ERROR.key]:!0,[x.BUILDING.key]:!0,[x.QUEUED.key]:!0,[x.CANCELED.key]:!1}),n(!1)}},[e.query.status,e.isReady,t]),(0,i.useEffect)(()=>{let t={...e.query},n=function(e){let t=Object.keys(e).filter(t=>e[t]).sort().join(",");return p.sort().join(",")===t?null:""===t?y:t}(r);n?t.status=n:delete t.status,e.isReady&&e.replace({query:t},void 0,{scroll:!1})},[r,e.query.status]),{isInitialStatusItems:Object.entries(r).every(e=>{let[t,n]=e;return j[t]===n}),selectedStatusItems:r,clearStatus(){l(j)},handleSelectStatusItem:s,selectStatusFilterValues:Object.keys(r).filter(e=>r[e]).map(e=>e.toUpperCase())}}let k=(0,i.memo)(e=>{let{selectedStatusItems:t}=e;return(0,r.jsx)("div",{className:m().icon,children:Object.values(x).map((e,n)=>{let{key:i,className:l}=e;return(0,r.jsx)(g,{status:t[i]?l:m().dimmed,style:{left:`${-4*n}px`}},i)})})}),v=(0,r.jsx)("svg",{className:m().check,fill:"none",height:"18",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"18",children:(0,r.jsx)("path",{d:"M20 6L9 17l-5-5"})});function _(e){let{selectedStatusItems:t,handleSelectStatusItem:n,skeleton:l=!1,position:a="right"}=e,[u,h]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{l||h(!0)},[l]),(0,r.jsx)("div",{className:"left"===a?m().leftAligned:m().rightAligned,children:(0,r.jsx)(d.O,{show:Boolean(l&&!u),children:(0,r.jsxs)(o.Fe,{closeOnSelect:!1,children:[(0,r.jsxs)(o.j2,{showChevron:!0,type:"secondary",children:[(0,r.jsx)(k,{selectedStatusItems:t}),(0,r.jsx)(c.x,{children:"Status"}),(0,r.jsxs)(s.Ct,{className:m().badge,children:[Object.values(t).filter(Boolean).length,"/",Object.keys(x).length]})]}),(0,r.jsx)(o.v2,{arrow:!1,width:186,children:Object.values(x).map(e=>{let{key:i,className:l,label:s}=e;return(0,r.jsxs)(o.sN,{onClick:()=>n(i),children:[(0,r.jsx)(g,{status:l}),(0,r.jsx)(c.x,{className:m().item,children:s}),t[i]?v:null]},i)})})]})})})}},378163:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(397458);function i(e){let{width:t=24,height:n=24,style:i}=e;return(0,r.jsxs)("svg",{fill:"none",height:n,style:{border:"1px solid var(--accents-2)",borderRadius:"100%",boxSizing:"border-box",...i},viewBox:"0 0 24 24",width:t,children:[(0,r.jsx)("path",{clipRule:"evenodd",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z",fill:"#000",fillRule:"evenodd"}),(0,r.jsx)("path",{clipRule:"evenodd",d:"M12.24 6.24L18 16.378H6.48L12.24 6.24z",fill:"#fff",fillRule:"evenodd"})]})}n(652983)},573757:function(e,t,n){"use strict";n.d(t,{LI:function(){return c},OL:function(){return o},UL:function(){return a}});var r=n(397458),i=n(425789),l=n(268258),s=n.n(l);let a=e=>{let{children:t,className:n}=e;return(0,r.jsx)("ul",{className:(0,i.Z)(s().ul,n),children:t})},o=e=>{let{children:t,className:n}=e;return(0,r.jsx)("ol",{className:(0,i.Z)(s().ol,n),children:t})},c=e=>{let{children:t,className:n}=e;return(0,r.jsx)("li",{className:(0,i.Z)(s().li,n),children:t})}},219987:function(e,t,n){"use strict";var r=n(397458),i=n(652983),l=n(670868),s=n.n(l),a=n(425789),o=n(654817),c=n(136266),d=n(37963),u=n(248167),h=n.n(u);let m=(0,i.memo)(e=>{let{text:t,copyText:n,onCopy:l,width:u,prompt:m=!0,icon:x=!0,dark:p,type:y,fill:g,className:f,variant:j,...b}=e,k=(0,d.e1)(),v=(0,c.Z)(y,g,j),_=(0,i.useCallback)(()=>{n?s()(n):Array.isArray(t)?s()(t.join("\n")):"string"==typeof t&&s()(t),k.message({text:"Copied to clipboard!"}),l&&l()},[k,l,t,n]);return(0,r.jsxs)("div",{className:(0,a.Z)(h().snippet,{[h().prompt]:m,[h().dark]:p},f,v),...b,"data-geist-snippet":"","data-version":"v1",style:{width:u,...b.style},children:[Array.isArray(t)?t.map((e,n)=>(0,r.jsx)("pre",{className:"geist-overflow-scroll-y",children:e},`snippet-${t}-${e}-${n}`)):(0,r.jsx)("pre",{className:"geist-overflow-scroll-y",children:t}),x?(0,r.jsx)("button",{"aria-label":"Copy to clipboard",className:(0,a.Z)("geist-reset",h().copy),onClick:_,type:"button",children:(0,r.jsx)(o.Z,{size:22})}):null]})});t.Z=m},530996:function(e,t,n){"use strict";n.d(t,{R:function(){return o},i:function(){return a}});var r=n(652983),i=n(577389),l=n(455522),s=n(466133);let a=()=>{let e=(0,i.useRouter)(),t=Array.isArray(e.query.filterBranch)?e.query.filterBranch[0]:e.query.filterBranch;return{isReady:e.isReady,filterBranch:t}};function o(){let{project:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a(),[n,o]=(0,r.useState)(null);(0,r.useEffect)(()=>{t.isReady&&o(t.filterBranch||null)},[t.isReady,t.filterBranch]);let c=(0,i.useRouter)(),d=(0,r.useCallback)(e=>{o(e),function(e,t){let n={...e.query};t?n.filterBranch=t:delete n.filterBranch,e.replace({pathname:window.location.pathname,query:n},void 0,{shallow:!0,scroll:!1})}(c,e)},[c]),u=(0,r.useCallback)(()=>{n&&(o(null),d(null))},[n,d]),h=e?.link?.type&&n?{[`${e?.link?.type}CommitRef`]:n}:void 0,m=!!(0,l.$m)().value,x=!e||!t.isReady,[p,y]=(0,r.useState)({search:!1,filter:!1}),g=!!n;return(0,s.Z)(()=>{y({search:m,filter:m&&!x&&g})},[y,x,m,g]),{showBranchSearchBar:p.search,showBranchFilterBar:p.filter,filteredBranch:n,setFilteredBranch:d,clearBranch:u,gitSource:n?{ref:n}:void 0,meta:h}}},168112:function(e,t,n){"use strict";n.d(t,{F:function(){return l},FA:function(){return i}});var r=n(476795);function i(e){return!!e&&Boolean(e.transferStartedAt&&!e.transferCompletedAt)}function l(e){let{team:t,teams:n}=(0,r.t7)();if(!e)return null;let{transferToAccountId:i}=e;if(i){let l=(n||[]).find(e=>e.id===i);return l||null}return t}},190343:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r=n(652983);function i(e,t){let[n,i]=(0,r.useState)(e),[l,s]=function(e,t){let[n,i]=(0,r.useState)(e);return(0,r.useEffect)(()=>{let n=setTimeout(()=>{i(e)},t);return()=>clearTimeout(n)},[e,i,t]),[n,i]}(n,t);return[l,i,{currentValue:n,setValueImmediate:(0,r.useCallback)(e=>{i(e),s(e)},[i,s])}]}},474551:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(498828),i=n(191425),l=n(241663),s=n(202764),a=n(476795);function o(e){let{config:t,noop:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:o,team:c}=(0,a.t7)();return(0,r.ZP)(o&&e?`${(0,l.nv)(e)}${(0,s.c)({teamId:c?.id})}`:null,async e=>n?{}:await (0,i.I)(e),t)}},635089:function(e){e.exports={card:"deployment-card-small_card__TMtXZ",current:"deployment-card-small_current__JGku6",input:"deployment-card-small_input__2XdNV",icon:"deployment-card-small_icon__F04Qe",deploymentLink:"deployment-card-small_deploymentLink__ok4SD",branch:"deployment-card-small_branch__WiMU7",code:"deployment-card-small_code__bFW2M",gitAvatar:"deployment-card-small_gitAvatar__8b5EG","badge-current":"deployment-card-small_badge-current__YFOAN","badge-previous":"deployment-card-small_badge-previous__WpGOg"}},860252:function(e){e.exports={"rollback-modal":"rollback-modal_rollback-modal___Ilek","choose-deployment-btn":"rollback-modal_choose-deployment-btn__sEqIW","warning-list":"rollback-modal_warning-list__Li2Uu","alias-list":"rollback-modal_alias-list__CQLEA","deployment-link":"rollback-modal_deployment-link___I6s_"}},208557:function(e){e.exports={defaultHeight:"no-deployment-card_defaultHeight__85Bbe",container:"no-deployment-card_container__3lGom",subtitleContainer:"no-deployment-card_subtitleContainer__cWxgs",title:"no-deployment-card_title__EKeF2",icon:"no-deployment-card_icon__ggtSR"}},327726:function(e){e.exports={wrapper:"transfer-project_wrapper__xA3eV"}},211109:function(e){e.exports={skeletonContainer:"filter-branch-entity-bar_skeletonContainer__z3YZh",entityMarginBottom:"filter-branch-entity-bar_entityMarginBottom__oDJnS",inline:"filter-branch-entity-bar_inline__8qynq",entitySpan:"filter-branch-entity-bar_entitySpan__AcHdW",hideWhenNotSm:"filter-branch-entity-bar_hideWhenNotSm__JY2GU",maxWidthFitContent:"filter-branch-entity-bar_maxWidthFitContent__JaUDJ",hideWhenSm:"filter-branch-entity-bar_hideWhenSm__0uLfI"}},632258:function(e){e.exports={status:"filter-status_status__qIY8Y",icon:"filter-status_icon__cVslJ",item:"filter-status_item__CmT7o",check:"filter-status_check__yOeOf",badge:"filter-status_badge__Z1_0x",ready:"filter-status_ready__JIi8z",error:"filter-status_error__gPsUk",building:"filter-status_building__i4cZ0",queued:"filter-status_queued__K6Nqp",canceled:"filter-status_canceled__UdX6A",dimmed:"filter-status_dimmed__y65ji",leftAligned:"filter-status_leftAligned__uhqhA",rightAligned:"filter-status_rightAligned__dTJCE"}},268258:function(e){e.exports={ul:"list_ul__6hDBW",ol:"list_ol__R8ead",li:"list_li__E3ptA"}},277652:function(e){e.exports={wrapper:"loading-checkmark_wrapper__wzVmS"}},248167:function(e){e.exports={snippet:"snippet_snippet__BPlgb",dark:"snippet_dark__9Azck",copy:"snippet_copy__VqjfV",prompt:"snippet_prompt__FWQhJ"}},470596:function(e){e.exports={"warning-note":"warning-note_warning-note__bb7_x","warning-note-link":"warning-note_warning-note-link__ad_Tb"}}}]);