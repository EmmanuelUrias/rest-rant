(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67566],{706774:function(e,t,i){"use strict";i.d(t,{I:function(){return m}});var s=i(397458),l=i(652983),a=i(425789),n=i(261422),r=i.n(n),o=i(730007),d=i(187589),u=i(688255),c=i(136266),p=i(255248),f=i(225080),_=i(138348),v=i(89378),E=i(510862),x=i.n(E);let m=(0,l.memo)((0,l.forwardRef)(function(e,t){let{disabled:i,label:n,typeName:E="text",prefix:m,suffix:y,prefixStyling:S=!0,prefixContainer:b=!0,suffixStyling:h=!0,suffixContainer:I=!0,width:T,error:k,type:g,size:N,className:F,wrapperClassName:C,spellCheck:j=!1,autoCapitalize:D="off",autoComplete:w="off",autoCorrect:q="off",...L}=e,O=n?o.Z:l.Fragment,U=L.id&&r()(`${L.id}-`),P={...n&&{value:n,withInput:!0,style:{width:T},id:U,wrapperClassName:C}},Z=(0,d.B)()||i,B=(0,p.Z)("input-");g=k?"error":g;let R=(0,c.Z)(g),M=L["aria-label"]||L.title;return(0,s.jsxs)(O,{...P,children:[(0,s.jsx)("div",{className:(0,a.Z)(x().container,R,{[x().prefix]:m,[x().suffix]:y,[x().noPrefixStyle]:!S,[x().noSuffixStyle]:!h,[x().large]:"large"===N,[x().small]:"small"===N,[x().mediumSmall]:"mediumSmall"===N}),"data-geist-input-wrapper":"","data-version":"v1",style:{width:T},children:(0,s.jsxs)(u.lO.Provider,{value:(0,f.U)(N),children:[(0,s.jsx)("input",{...L,"aria-describedby":k?`${B}-error`:L["aria-describedby"],"aria-invalid":Boolean(k),"aria-label":M,autoCapitalize:D,autoComplete:w,autoCorrect:q,className:(0,a.Z)(x().input,F),"data-geist-input":"",disabled:Z,id:n?U:L.id,ref:t,spellCheck:j,type:E}),m?b?(0,s.jsx)("span",{"data-geist-input-prefix":"",children:m}):m:null,y?I?(0,s.jsx)("span",{"data-geist-input-suffix":"",children:y}):y:null]})}),k?(0,s.jsx)(_.Z,{"data-testid":L["data-testid"]?(0,v.C)(L["data-testid"],"error"):void 0,error:k,id:`${B}-error`,size:N,style:{width:T,marginTop:"var(--geist-gap-quarter)"}}):null]})}));t.Z=m},167566:function(e,t,i){"use strict";i.d(t,{b:function(){return H}});var s,l=i(397458),a=i(652983),n=i(425789),r=i(375453),o=i(964038),d=i(253576),u=i(139378),c=i(97146),p=i(50134);i(138348);var f=i(113745),_=i(924e3),v=i(481437),E=i(530006),x=i(411295),m=i(367546),y=i(37963),S=i(757603);let b=(0,a.createContext)({dispatch:()=>void 0,accountId:void 0,surveyModalState:null,submit:()=>void 0,invalidFields:[],setInvalidFields:()=>void 0});var h=i(804410),I=i.n(h);function T(e){let{id:t,onAction:i,surveyName:s,updateCookie:n}=e,r=(0,y.e1)(),o=()=>{r.removeToastByKey(t)};(0,a.useEffect)(()=>{E.c.track(E.s.SURVEY_TOAST_SHOWN,{surveyName:s})},[s]);let d=()=>{E.c.track(E.s.SURVEY_TOAST_DISMISSED,{surveyName:s}),n(),o()},u=()=>{i(),o()};return(0,l.jsxs)(f.Z,{className:I().prompt,gap:4,children:[(0,l.jsxs)(f.Z,{direction:"row",children:[(0,l.jsx)(v.x,{as:"h1",size:16,weight:500,children:"Help us improve your Vercel experience"}),(0,l.jsx)(_.z,{"aria-label":"dismiss",className:I()["close-button"],onClick:d,svgOnly:!0,variant:"unstyled",children:(0,l.jsx)(c.X,{weight:"bold"})})]}),(0,l.jsx)(v.x,{className:I().description,children:"Please help us better understand how we can improve your Vercel experience with this 2 minute survey."}),(0,l.jsxs)(f.Z,{direction:"row",gap:2,justify:"end",children:[(0,l.jsx)(_.z,{onClick:d,size:"small",type:"secondary",children:"No Thanks"}),(0,l.jsx)(_.z,{onClick:u,size:"small",children:"Start"})]})]})}var k=i(212272),g=i.n(k),N=i(89378);function F(e){for(var t=arguments.length,i=Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return(0,N.C)("survey-modal",e,...i)}let C=e=>{let t=[],i={},s={},l={},{surveyName:a,surveySlug:n,surveySteps:r}=e,o=0;for(let d=0;d<r.length;d++){let u=r[d];for(let c of(s[d]={title:u.title,description:u.description,start:o,end:o+1},u.fields))if("select"===c.type)for(let p of(l[c.id]={id:c.id,start:o,end:o+1,selectMultiple:Boolean(c.selectMultiple)},c.options)){let f=`${d}-${c.id}-${p.id}`,_={fqid:f,stepIndex:d,inputId:p.id,optionListId:c.id,label:p.label,selected:Boolean(p.selected),type:"option",reveals:p.reveals?{fqid:`${f}-${p.reveals.id}`,stepIndex:d,inputId:p.reveals.id,label:p.reveals.label??"",value:p.reveals.value??"",size:p.reveals.size??"short",validationRegex:p.reveals.validationRegex,validationErrorMessage:p.reveals.validationErrorMessage,inputTypeName:p.reveals.inputTypeName,type:"text"}:void 0};t.push(_),i[f]=o,s[d].end=o+1,l[c.id].end=o+1,o++}else{let v=`${d}-${c.id}`,E={fqid:v,stepIndex:d,inputId:c.id,label:c.label,value:c.value||"",size:c.size||"short",validationRegex:c.validationRegex,validationErrorMessage:c.validationErrorMessage,inputTypeName:c.inputTypeName,type:"text"};t.push(E),i[v]=o,s[d].end=o+1,o++}}return{surveyName:a,surveySlug:n,fields:t,fieldLookup:i,stepLookup:s,optionsListLookup:l,currentStep:0,previousStep:null,lastStep:r.length-1,isFirstStep:!0,isLastStep:r.length-1==0}},j=e=>{let{enableSkip:t=!1}=e;return{...C(e.surveyInfo),focusedItem:null,focusedField:null,focusedNestedField:null,focusedButton:null,backButtonExists:!1,skipButtonExists:t,submitButtonExists:!0,enableSkip:t}};var D=i(198667);let w=(0,D.ZP)((e,t)=>{switch(t.type){case"RESET_SURVEY_INFO":return{...C(t.surveyInfo),focusedItem:null,focusedField:null,focusedNestedField:null,focusedButton:null,backButtonExists:!1,skipButtonExists:e.enableSkip,submitButtonExists:!0,enableSkip:e.enableSkip};case"TOGGLE_SKIP_ENABLED":e.enableSkip=t.enableSkip;break;case"SET_FOCUSED_BUTTON":e.focusedItem={type:"button",buttonId:t.buttonId};break;case"SET_FOCUSED_FIELD":e.focusedItem=t.fqid?{type:"field",fqid:t.fqid}:null;break;case"SET_FOCUSED_NESTED_FIELD":{let i=e.fields[e.fieldLookup[t.optionFqid]];"option"===i.type&&i.reveals&&(e.focusedItem={type:"nested-field",optionFqid:t.optionFqid,nestedFqid:i.reveals.fqid});break}case"INCREMENT_STEP":e.currentStep<e.lastStep&&(e.previousStep=e.currentStep,e.currentStep++,e.focusedItem=null);break;case"DECREMENT_STEP":e.currentStep>0&&(e.previousStep=e.currentStep,e.currentStep--,e.focusedItem=null);break;case"SET_STEP":t.to>=0&&t.to<=e.lastStep&&(e.previousStep=e.currentStep,e.currentStep=t.to,e.focusedItem=null);break;case"UPDATE_TEXT_FIELD":{let s=e.fields[e.fieldLookup[t.fqid]];"text"===s.type&&(s.value=t.value);break}case"UPDATE_NESTED_TEXT_FIELD":{let l=e.fields[e.fieldLookup[t.optionFqid]];"option"===l.type&&l.reveals&&(l.reveals.value=t.value);break}case"TOGGLE_OPTION":{let a=e.fields[e.fieldLookup[t.fqid]];if("option"===a.type){let{selectMultiple:n,start:r,end:o}=e.optionsListLookup[a.optionListId];if(n)a.selected=!a.selected;else{let d=a.selected;for(let u of e.fields.slice(r,o))"option"===u.type&&u.optionListId===a.optionListId&&(u.selected=!1);a.selected=!d}}}}switch(e.isFirstStep=0===e.currentStep,e.isLastStep=e.currentStep===e.lastStep,e.skipButtonExists=e.isFirstStep&&e.enableSkip,e.backButtonExists=!e.isFirstStep,e.focusedItem?.type){case"field":e.focusedField=e.fields[e.fieldLookup[e.focusedItem.fqid]],e.focusedNestedField=null,e.focusedButton=null;break;case"nested-field":{let c=e.fields[e.fieldLookup[e.focusedItem.optionFqid]];"option"===c.type&&c.reveals&&(e.focusedField=c,e.focusedNestedField=c.reveals,e.focusedButton=null);break}case"button":e.focusedField=null,e.focusedNestedField=null,e.focusedButton=e.focusedItem.buttonId;break;case void 0:e.focusedField=null,e.focusedNestedField=null,e.focusedButton=null;break;default:e.focusedItem}}),q=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];var L=i(164613),O=i.n(L),U=i(799059),P=i(288371),Z=i.n(P),B=i(18436),R=i.n(B),M=i(706774),A=i(873779);function z(e){let{type:t,optionFqid:i,field:s,className:n,"data-testid":r,showLabel:o,...d}=e,{setInvalidFields:u,invalidFields:c,surveyModalState:p,dispatch:f}=(0,a.useContext)(b),{fqid:_,inputId:v,inputTypeName:E,label:x=null,size:m="short",value:y,validationErrorMessage:S,validationRegex:h}=s,{focusedField:I,focusedNestedField:T}=p,k=(0,a.useRef)(null),g=(0,a.useRef)(null),[N,F]=(0,a.useState)(!1);(0,a.useEffect)(()=>{c.includes(_)?N||u(c.filter(e=>e!==_)):N&&u([...c,_])},[N,_,u]),(0,a.useEffect)(()=>{("top-level"===t?I?.fqid===_:T?.fqid===_)&&(k.current??g.current)?.focus()},[I?.fqid,T?.fqid,_,t]);let C=e=>{"nested"===t?f({type:"UPDATE_NESTED_TEXT_FIELD",optionFqid:i,value:e.target.value}):f({type:"UPDATE_TEXT_FIELD",fqid:_,value:e.target.value}),y?w(e.target.value):F(!1)},j=e=>{let s=e.target;"nested"===t?f({type:"UPDATE_NESTED_TEXT_FIELD",optionFqid:i,value:e.target.value}):f({type:"UPDATE_TEXT_FIELD",fqid:_,value:e.target.value}),N&&w(s.value)},D=S??(E?({email:"Please enter a valid email.",url:"Please enter a valid URL."})[E]:void 0),w=e=>{let t;if(h&&S)t=h;else switch(E){case"email":t=/^\S+@\S+\.\S+$/;break;case"url":F(!R()(e));return}t&&F(!t.test(e))},q=()=>{"top-level"===t&&I?.fqid!==_?f({type:"SET_FOCUSED_FIELD",fqid:_}):"nested"===t&&T?.fqid!==_&&f({type:"SET_FOCUSED_NESTED_FIELD",optionFqid:i})};return"short"===m?(0,l.jsx)(M.I,{autoComplete:"off",className:n,"data-testid":r,id:v,label:o?x:void 0,maxLength:256,onBlur:C,onChange:j,onFocus:q,placeholder:o?void 0:x||"Add your answer...",...d,error:N?D:void 0,ref:k,typeName:E,value:y}):(0,l.jsx)(A.g,{className:n,"data-testid":r,id:v,label:o?x:void 0,maxLength:512,onBlur:C,onChange:j,onFocus:q,placeholder:o?void 0:x||"Add your answer...",rows:3,...d,error:N?D:void 0,ref:g,value:y})}function $(e){let{index:t,listId:i,option:s,dataTestIdContext:u=[]}=e,[p,{height:_}]=(0,r.Z)({polyfill:o.ResizeObserver}),E=(0,a.useRef)(null),{surveyModalState:x,dispatch:m}=(0,a.useContext)(b),{focusedField:y,focusedNestedField:S,optionsListLookup:h}=x;(0,a.useEffect)(()=>{y?.fqid===s.fqid&&null===S&&E.current?.focus()},[y?.fqid,S,s.fqid]);let I=(0,d.useSpring)({config:{friction:20,tension:200,precision:.02,clamp:!0},height:`${_}px`,onStart(){y?.fqid===s.fqid&&s.selected&&s.reveals&&m({type:"SET_FOCUSED_NESTED_FIELD",optionFqid:s.fqid})}}),T=e=>{y?.fqid!==s.fqid&&m({type:"SET_FOCUSED_FIELD",fqid:s.fqid});let t=e.target;t.dataset.reveal&&t.focus(),"INPUT"!==t.tagName&&m({type:"TOGGLE_OPTION",fqid:s.fqid})};return(0,l.jsxs)("li",{"aria-checked":s.selected,"aria-labelledby":s.inputId,"aria-selected":s.selected,className:(0,n.Z)(Z().option,{[Z().selected]:s.selected}),"data-testid":F("form-input",i,"checkbox",s.inputId,...u),id:q[t],onClick:T,onFocus(){y?.fqid!==s.fqid&&m({type:"SET_FOCUSED_FIELD",fqid:s.fqid})},onKeyDown:void 0,ref:E,role:"option",tabIndex:0,value:s.inputId,children:[h[s.optionListId].selectMultiple?(0,l.jsx)("input",{"aria-readonly":!0,checked:s.selected,className:Z().input,"data-list-id":i,id:s.inputId,readOnly:!0,type:"checkbox",value:s.label||""}):(0,l.jsx)("input",{checked:s.selected,className:Z().input,"data-list-id":i,id:s.inputId,readOnly:!0,type:"radio",value:s.label||""}),(0,l.jsx)(d.animated.div,{style:I,children:(0,l.jsxs)(f.Z,{gap:3,ref:p,children:[(0,l.jsxs)("div",{className:Z().heading,children:[(0,l.jsx)(U.Z,{className:Z().keyboard,children:q[t]}),(0,l.jsx)(v.x,{weight:500,children:(0,l.jsx)("label",{htmlFor:s.inputId,children:s.label})}),s.selected?(0,l.jsx)("span",{className:Z()["selected-icon"],children:(0,l.jsx)(c.CheckInCircle,{color:"var(--geist-success)",fill:!0})}):null]}),s.reveals?(0,l.jsx)("div",{className:(0,n.Z)({[Z().hidden]:!s.selected}),children:(0,l.jsx)(z,{autoFocus:s.selected,"data-testid":F("form-input",i,"checkbox",s.inputId,"revealed-textbox",...u),field:s.reveals,onClick:()=>m({type:"SET_FOCUSED_NESTED_FIELD",optionFqid:s.fqid}),optionFqid:s.fqid,type:"nested"})}):null]})})]},s.inputId)}function G(e){let{id:t,options:i,selectMultiple:s,dataTestIdContext:n=[]}=e,{surveyModalState:r,dispatch:o}=(0,a.useContext)(b),{focusedField:d,focusedNestedField:u}=r,c=(0,a.useCallback)(e=>{let t=i.findIndex(e=>e.fqid===d?.fqid),s=null!==u;switch(e.key){case"ArrowUp":-1===t?o({type:"SET_FOCUSED_FIELD",fqid:i[0].fqid}):o({type:"SET_FOCUSED_FIELD",fqid:i.at(t-1)?.fqid??null});break;case"ArrowDown":-1===t?o({type:"SET_FOCUSED_FIELD",fqid:i[0].fqid}):o({type:"SET_FOCUSED_FIELD",fqid:i.at(t+1)?.fqid??i.at(0)?.fqid??null});break;case" ":if(-1===t||s)return;e.preventDefault(),o({type:"TOGGLE_OPTION",fqid:i[t].fqid});break;default:if(q.includes(e.key)){if(s)return;let l=i[q.indexOf(e.key)]?.fqid;l&&(o({type:"TOGGLE_OPTION",fqid:l}),o({type:"SET_FOCUSED_FIELD",fqid:l}))}}},[i,u,d?.fqid,o]);return(0,l.jsx)("ul",{"aria-label":"options","aria-multiselectable":s,className:O().list,"data-testid":F("form-input",t,...n),onKeyDown:c,role:"listbox",children:(0,l.jsx)("fieldset",{className:O().fieldset,children:(0,l.jsx)(f.Z,{gap:2,children:i.map((e,i)=>(0,l.jsx)($,{dataTestIdContext:n,index:i,listId:t,option:e},e.inputId))})})})}function V(e){let{showInputLabels:t,dataTestIdContext:i=[]}=e,{surveyModalState:s}=(0,a.useContext)(b),{fields:n,optionsListLookup:r,stepLookup:o,currentStep:d}=s,{start:u,end:c}=o[d],p=n.slice(u,c),_=[];for(let v=0;v<p.length;v++){let E=p[v];if("text"===E.type&&_.push(E),"option"===E.type){let{start:x,end:m}=r[E.optionListId],y=n.slice(x,m);_.push(y),v=m-u-1}}return(0,l.jsx)(f.Z,{gap:6,children:_.map((e,s)=>Array.isArray(e)?(0,l.jsx)("div",{children:(0,l.jsx)(G,{dataTestIdContext:i,id:e[0].optionListId,options:e},e[0].optionListId)},e[0].optionListId):(0,l.jsx)("div",{children:(0,l.jsx)(z,{autoFocus:0===s,"data-testid":F("form-input",e.inputId,...i),field:e,showLabel:t,type:"top-level"},e.inputId)},e.inputId))})}var Y=i(854146);function X(e){let{wrap:t,children:i,active:s,onAnimationDone:a,onClickOutside:n,"data-testid":r}=e;return t?(0,l.jsx)(p.Modal,{active:s,"data-testid":r,drawerHeight:"expand",onAnimationDone:a,onClickOutside:n,style:{padding:"0 var(--geist-gap-half)"},width:500,children:(0,l.jsx)("div",{children:i})}):(0,l.jsx)("div",{"data-testid":r,children:i})}let H=(s=function(e){let{hookData:t,externalProps:i}=e,[s,h]=(0,a.useReducer)(w,j(i)),{account:{teams:I,team:k,user:N}}=t,{active:C,onDismiss:D=u.noop,onSubmit:q,overrideTeamId:L,promptWithToast:O=!1,setActive:U,submitButtonText:P="Submit",wrap:Z=!0,dataTestIdContext:B=[],hideIfAlreadySeen:R=!1,showInputLabels:M=!1,enableSkip:A=!1}=i,{surveySlug:z,surveyName:$,fields:G,stepLookup:Y,currentStep:H,previousStep:J,isLastStep:K,focusedField:W,focusedItem:Q,focusedButton:ee,backButtonExists:et,skipButtonExists:ei}=s;(0,a.useEffect)(()=>{h({type:"TOGGLE_SKIP_ENABLED",enableSkip:A})},[A]),(0,a.useEffect)(()=>{h({type:"RESET_SURVEY_INFO",surveyInfo:i.surveyInfo})},[i.surveyInfo]);let es=(0,a.useRef)(null),el=(0,a.useRef)(null),ea=(0,a.useRef)(null);(0,a.useEffect)(()=>{switch(ee){case"back":es.current?.focus();break;case"skip":el.current?.focus();break;case"submit":ea.current?.focus()}},[ee]),(0,a.useEffect)(()=>{null===Q&&document.activeElement?.blur()},[Q]);let{surveySteps:en}=i.surveyInfo;(0,a.useEffect)(()=>{let e=new Set;en.forEach(t=>{t.fields.forEach(t=>{if(e.has(t.id)&&ef(`Duplicate top-level field id: ${t.id}`),e.add(t.id),"options"in t){let i=new Set;t.options.forEach(e=>{i.has(e.id)&&ef(`Duplicate option id: ${e.id}`),i.add(e.id)})}})})},[en]);let er=I?.find(e=>e.id===L)??k,eo=er?.id,ed=N?.uid,[eu,ec]=(0,a.useState)(!1),[ep,ef]=(0,a.useState)(),e_=(0,y.e1)(),ev=(0,x.ej)(z),eE=!!ed&&ev?.includes(ed),ex=(0,a.useCallback)(()=>{ed&&(ev?eE||(0,x.d8)(z,`${ev},${ed}`):(0,x.d8)(z,ed))},[eE,ev,z,ed]),em=(0,a.useCallback)(()=>{U(!0)},[U]);(0,a.useEffect)(()=>{O&&e_.loaded&&!eE&&e_.message({preserve:!0,text:(0,l.jsx)(T,{id:z,onAction:em,surveyName:$,updateCookie:ex}),key:z})},[ev,O,$,z,e_,eE,em,ex]);let ey=()=>{E.c.track(E.s.SURVEY_EXITED,{surveyName:$}),U(!1),D()},eS=e=>{let t=e?.target;t&&t.offsetParent?.id==="cconsent-bar"||ey()},eb=(0,a.useCallback)(async()=>{if(!K)return;ec(!0),E.c.track(E.s.SURVEY_SUBMITTED,{surveyName:$});let e=G.some(e=>{switch(e.type){case"option":if(e.selected)return!0;return!1;case"text":if(e.value)return!0;return!1;default:return!1}});e||E.c.track(E.s.SURVEY_SUBMITTED_EMPTY,{surveyName:$}),ex();try{let t=function(e){let{fields:t,stepLookup:i,optionsListLookup:s}=e,l=Object.values(i).map(e=>({title:e.title,description:e.description,fields:[]}));for(let a=0;a<t.length;a++){let n=t[a];switch(n.type){case"text":l[n.stepIndex].fields.push({...n,id:n.inputId});break;case"option":{let{start:r,end:o,selectMultiple:d}=s[n.optionListId],u=t.slice(r,o),c=u.map(e=>{if("text"===e.type)throw Error("Somehow, a text field was added to an option list. This is likely a developer error.");let t={id:e.inputId,label:e.label,selected:e.selected};return e.reveals&&(t.reveals={id:e.reveals.inputId,...e.reveals}),t}),p={type:"select",id:n.optionListId,options:c,selectMultiple:d};l[n.stepIndex].fields.push(p),a=o-1}}}return l}(s);await q({surveyName:$,surveySlug:z,user:N??void 0,team:er??void 0,surveySteps:t,get fields(){return t.flatMap(e=>e.fields)}})}finally{ec(!1),e_.success({text:"Thank you for your feedback."}),U(!1)}},[K,$,G,ex,q,z,N,er,s,e_,U]),eh=(0,a.useCallback)(e=>{switch(e.key){case"Enter":if(!(0,S.x)(e))return;K?eb():(e.preventDefault(),h({type:"INCREMENT_STEP"}));break;case"ArrowRight":W?.type!=="text"&&h({type:"INCREMENT_STEP"});break;case"ArrowLeft":W?.type!=="text"&&h({type:"DECREMENT_STEP"})}},[W?.type,K,eb]),eI=()=>{h({type:"SET_STEP",to:0})};(0,a.useEffect)(()=>{null!==J&&E.c.track(E.s.SURVEY_MODAL_STEP_CHANGED,{startIndex:J,endIndex:H,surveyName:$})},[H,$]),(0,a.useEffect)(()=>{C&&(E.c.track(E.s.SURVEY_STARTED,{surveyName:$,teamId:eo,userId:ed}),h({type:"SET_STEP",to:0}))},[C,$,eo,ed]),(0,a.useEffect)(()=>{if(C)return window.addEventListener("keydown",eh),()=>window.removeEventListener("keydown",eh);window.removeEventListener("keydown",eh)},[eh,C]);let[eT,{height:ek}]=(0,r.Z)({polyfill:o.ResizeObserver}),eg=(0,m.dD)(),eN=(0,d.useSpring)({config:{friction:20,tension:200,precision:.02,clamp:!0},height:`${ek}px`,immediate:eg}),[eF,eC]=(0,a.useState)([]),{title:ej,description:eD}=Y[H];return(0,l.jsx)(b.Provider,{value:{dispatch:h,surveyModalState:s,accountId:eo??ed,submit:eb,invalidFields:eF,setInvalidFields:eC},children:(0,l.jsxs)(X,{active:(!R||!eE)&&C,"data-testid":F("wrapper",...B),onAnimationDone:eI,onClickOutside:eS,wrap:Z,children:[(0,l.jsx)(p.Body,{className:g().title,padding:!1,children:(0,l.jsxs)(f.Z,{align:"center",gap:6,children:[(0,l.jsx)(p.Title,{children:(0,l.jsx)(v.x,{className:g()["title-text"],children:ej})}),eD?(0,l.jsx)(v.x,{className:g().description,children:eD}):null]})}),(0,l.jsxs)(p.Body,{children:[(0,l.jsx)(d.animated.div,{style:eN,children:(0,l.jsx)("div",{ref:eT,children:(0,l.jsx)("form",{"data-testid":F("form",...B),onSubmit(e){e.preventDefault()},children:(0,l.jsx)(V,{dataTestIdContext:B,showInputLabels:M})})})}),null,(0,l.jsxs)("div",{className:g().footer,children:[et?(0,l.jsx)(_.z,{"aria-label":"Back to last step",className:(0,n.Z)(g()["back-button"]),"data-testid":F("back-button",...B),onClick:()=>h({type:"DECREMENT_STEP"}),onFocus(){"back"!==ee&&h({type:"SET_FOCUSED_BUTTON",buttonId:"back"})},ref:es,svgOnly:!0,type:"ghost",typeName:"button",children:(0,l.jsx)(c.ArrowLeft,{"aria-label":"left-facing arrow",size:24})}):null,(0,l.jsx)(v.x,{className:(0,n.Z)(g().tip,{[g().visible]:W?.type==="option"}),color:"accents-6",weight:500,children:!eg&&"Press a key to select or ↑↓ to\xa0navigate"}),(0,l.jsxs)(f.Z,{direction:"row",gap:4,children:[ei?(0,l.jsx)(_.z,{className:(0,n.Z)(g()["skip-button"]),onClick:ey,onFocus(){"skip"!==ee&&h({type:"SET_FOCUSED_BUTTON",buttonId:"skip"})},ref:el,type:"secondary",children:"Skip"}):null,K?(0,l.jsx)(_.z,{className:(0,n.Z)(g()["submit-button"]),"data-testid":F("submit-button",...B),loading:eu,onClick:()=>void eb(),onFocus(){"submit"!==ee&&h({type:"SET_FOCUSED_BUTTON",buttonId:"submit"})},ref:ea,type:"success",children:P}):(0,l.jsx)(_.z,{className:(0,n.Z)(g()["submit-button"]),"data-testid":F("next-button",...B),disabled:eF.length>0,onClick:()=>h({type:"INCREMENT_STEP"}),onFocus(){"submit"!==ee&&h({type:"SET_FOCUSED_BUTTON",buttonId:"submit"})},ref:ea,children:"Next"})]})]})]})]})})},function(e){let{team:t,teams:i,user:a}=(0,Y.Z)();return(0,l.jsx)(s,{externalProps:e,hookData:{account:{team:t,teams:i,user:a}}})})},873779:function(e,t,i){"use strict";i.d(t,{g:function(){return v}});var s=i(397458),l=i(652983),a=i(425789),n=i(730007),r=i(187589),o=i(136266),d=i(255248),u=i(577072),c=i(138348),p=i(89378),f=i(305341),_=i.n(f);let v=(0,l.forwardRef)((e,t)=>{let{disabled:i,label:l,resize:f,width:v,error:E,type:x,size:m,className:y,wrapperClassName:S,spellCheck:b=!1,autoCapitalize:h="off",autoComplete:I="off",autoCorrect:T="off",...k}=e,g=l?n.Z:"label",N={...l?{value:l,withInput:!0,wrapperClassName:S}:{className:S}},F=(0,r.B)()||i,C=(0,d.Z)("textarea-");x=E?"error":x;let j=(0,o.Z)(x);return(0,s.jsxs)(g,{"data-version":"v1",...N,children:[(0,s.jsx)("div",{className:(0,a.Z)(_().container,j),children:(0,s.jsx)("textarea",{...k,autoCapitalize:h,autoComplete:I,autoCorrect:T,className:(0,a.Z)(_().textarea,j,{[_().large]:"large"===m,[_().small]:"small"===m},y),disabled:F,ref:t,spellCheck:b,style:{...k.style,resize:f,width:v}})}),E?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.L,{y:.5}),(0,s.jsx)(c.Z,{"data-testid":k["data-testid"]?(0,p.C)(k["data-testid"],"error"):void 0,error:E,id:`${C}-error`,size:m,style:{width:v}})]}):null]})});v.displayName="Textarea",t.Z=(0,l.memo)(v)},757603:function(e,t,i){"use strict";i.d(t,{x:function(){return l}});var s=i(112389);let l=e=>(0,s.a)()?e.metaKey:e.ctrlKey},112389:function(e,t,i){"use strict";i.d(t,{Z:function(){return n},a:function(){return a}});let s=["Shift","Meta","Alt","Control"],l=["select","textarea","input"],a=()=>/Mac|iPod|iPhone|iPad/.test(navigator.platform);function n(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.keys(t).map(e=>[function(e){let t=a()?"Meta":"Control";return e.trim().split(" ").map(e=>{let i=e.split("+"),s=i.pop();return[i=i.map(e=>"$mod"===e?t:e),s]})}(e),t[e]]),r=new Map,o=null,d=e=>{e.getModifierState&&e.getModifierState(e.key)||i.ignoreFocus&&document.activeElement&&(-1!==l.indexOf(document.activeElement.tagName.toLowerCase())||"true"===document.activeElement.contentEditable)||(n.forEach(t=>{let i=t[0],l=t[1],a=r.get(i)||i,n=a[0];n[1].toUpperCase()!==e.key.toUpperCase()&&n[1]!==e.code||n[0].find(t=>!e.getModifierState(t))||s.find(t=>!n[0].includes(t)&&e.getModifierState(t))?r.delete(i):a.length>1?r.set(i,a.slice(1)):(r.delete(i),l(e))}),clearTimeout(o),o=setTimeout(r.clear.bind(r),1e3))};return e.addEventListener("keydown",d),()=>{e.removeEventListener("keydown",d)}}},510862:function(e){e.exports={container:"input_container__GHJdJ",input:"input_input__WqafN",prefix:"input_prefix__u4HjE",suffix:"input_suffix__9HxNt",noPrefixStyle:"input_noPrefixStyle__zGMIB",noSuffixStyle:"input_noSuffixStyle__VItF6",large:"input_large__fXbg4",small:"input_small__vIJCM",mediumSmall:"input_mediumSmall__NA0gP"}},288371:function(e){e.exports={option:"option-input_option__oU_S8",input:"option-input_input__Drzlr",hidden:"option-input_hidden__u5P6Q",heading:"option-input_heading__mVpQM",keyboard:"option-input_keyboard__lY47b","selected-icon":"option-input_selected-icon__7S9VC",selected:"option-input_selected__bz31E"}},164613:function(e){e.exports={list:"option-list_list__JFaN0",fieldset:"option-list_fieldset__x14vf"}},212272:function(e){e.exports={title:"survey-modal_title__42yNI","title-text":"survey-modal_title-text__vCX2s",description:"survey-modal_description__lBt4z",error:"survey-modal_error__ChYsY",footer:"survey-modal_footer__0O5JP","back-button":"survey-modal_back-button__sTTUu","skip-button":"survey-modal_skip-button__ZRBZ5","skip-text":"survey-modal_skip-text___bxxJ","submit-button":"survey-modal_submit-button__zt0Hi",tip:"survey-modal_tip__wPGmm",visible:"survey-modal_visible__Tajzx"}},804410:function(e){e.exports={prompt:"survey-prompt-toast_prompt__1ZwVw","close-button":"survey-prompt-toast_close-button__e563V",description:"survey-prompt-toast_description__WI5JQ"}},305341:function(e){e.exports={container:"textarea_container__vtOsN input_container__GHJdJ",textarea:"textarea_textarea__TwSUq input_input__WqafN",error:"textarea_error__I41iq undefined",small:"textarea_small__9oCZ2",large:"textarea_large__EAAt5"}}}]);